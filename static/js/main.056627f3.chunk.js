/*! For license information please see main.056627f3.chunk.js.LICENSE.txt */
(this["webpackJsonpfirst-react"]=this["webpackJsonpfirst-react"]||[]).push([[0],{103:function(e,t,r){},109:function(e,t,r){},13:function(e,t,r){e.exports={DialogItem__link:"Messages_DialogItem__link__33PbV",wrapper__messages:"Messages_wrapper__messages__CDFYn",stick:"Messages_stick__Qc2eg",title:"Messages_title__pIh41",dialogs:"Messages_dialogs__XPT6q",dialog:"Messages_dialog__2V5E5",flexbox:"Messages_flexbox__3imSB",wrapper__messanger:"Messages_wrapper__messanger__1R0Tp",message:"Messages_message__261ss",textMessage:"Messages_textMessage__1ok3y",textarea:"Messages_textarea__3P9h4",btn:"Messages_btn__3MJMT",btnSend:"Messages_btnSend__2myXy",button:"Messages_button__fFOGJ",wrapper_dev:"Messages_wrapper_dev__1gWg-",dev:"Messages_dev__xdIBV"}},14:function(e,t,r){e.exports={nav:"Nav_nav__15tNa",wrapper_nav:"Nav_wrapper_nav__Oi7_W",wrapper_auth:"Nav_wrapper_auth__1uHrt"}},147:function(e,t,r){e.exports=r.p+"static/media/logout.6517ee94.svg"},148:function(e,t,r){},15:function(e,t,r){e.exports={nav:"Nav_nav__10b2e",settings:"Nav_settings__2oTSh",line:"Nav_line__2AtEq",link:"Nav_link__3K76f",active:"Nav_active__-BRCk"}},151:function(e,t,r){e.exports=r.p+"static/media/preloader.ef886190.svg"},152:function(e,t,r){e.exports={loader:"Preloader_loader__aA5wi"}},153:function(e,t,r){e.exports={aboutMe__editor:"ProfileStatus_aboutMe__editor__2qwYS"}},154:function(e,t,r){e.exports={profile__wrapper:"Profile_profile__wrapper__299ik"}},155:function(e,t,r){e.exports={aboutMe__editor:"ProfileStatus_aboutMe__editor__adjvr"}},185:function(e,t,r){e.exports=r(325)},21:function(e,t,r){e.exports=r.p+"static/media/user.8c62dd08.jpg"},22:function(e,t,r){e.exports={wrapper:"Users_wrapper__cuToJ",users:"Users_users__62fOr",btn__wrapper:"Users_btn__wrapper__3n-Qo",btn__follow:"Users_btn__follow__2uQB1",btn__unfollow:"Users_btn__unfollow__30O2J",btn__follow__click:"Users_btn__follow__click__2O9C6",wrapper__avatar:"Users_wrapper__avatar__2Gr3C",wrapper__info:"Users_wrapper__info__sIzmG",avatar:"Users_avatar__20sJI",nickName:"Users_nickName__2XwWa",status:"Users_status__2k3N1",location:"Users_location__37TMD",userName__link:"Users_userName__link__25gZo"}},23:function(e,t,r){e.exports={wrapperLoginPage:"LoginPage_wrapperLoginPage__2Xo9p",titleLogin:"LoginPage_titleLogin__2l-MN",formSummaryError:"LoginPage_formSummaryError__G0KR2",form:"LoginPage_form__1s0tv",submit:"LoginPage_submit__2wVZN",loginBtn:"LoginPage_loginBtn__2BwR3",error:"LoginPage_error__1ason",imgCaptcha:"LoginPage_imgCaptcha__3LsKT"}},24:function(e,t,r){e.exports={wrapperLoginPage:"Login_wrapperLoginPage__3pwOV",titleLogin:"Login_titleLogin__1rLpC",formSummaryError:"Login_formSummaryError__1IBdw",form:"Login_form__3Otbl",submit:"Login_submit__1T-od",loginBtn:"Login_loginBtn__3gCAx",error:"Login_error__1BeNl",imgCaptcha:"Login_imgCaptcha__2N2g0"}},25:function(e,t,r){e.exports={wrapper:"Users_wrapper__nG39w",users:"Users_users__3q2xW",btn__wrapper:"Users_btn__wrapper__14PVJ",btn__follow:"Users_btn__follow__30RWI",btn__unfollow:"Users_btn__unfollow__2SjfL",btn__follow__click:"Users_btn__follow__click__1ePmR",wrapper__avatar:"Users_wrapper__avatar__3Qg9Z",wrapper__info:"Users_wrapper__info__3vtXE",avatar:"Users_avatar__3BGp6",nickName:"Users_nickName__1FtBh",status:"Users_status__2mGkl",location:"Users_location__2PH_j",userName__link:"Users_userName__link__2XL54"}},322:function(e,t,r){},323:function(e,t,r){},324:function(e,t,r){},325:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(76),i=r.n(o),l=r(3),s=r(56),c=r(10),u=r(145),f=r(7),p=(r(109),r(52)),m=r.n(p),d=r(20),_=r(4),g=r(29),h=r(146).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"f875b6a1-5fef-48ce-a963-4e6042f223a9"}}),v={requestGetUsers:function(e,t){return h.get("users?page=".concat(e,"&count=").concat(t))},requestGetFriendUsers:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return h.get("users?page=".concat(e,"&count=").concat(t,"&friend=").concat(r))},follow:function(e){return h.post("follow/".concat(e.id))},unfollow:function(e){return h.delete("follow/".concat(e.id))},getUserProfile:function(e){return h.get("profile/".concat(e))},getProfileStatus:function(e){return h.get("profile/status/".concat(e))},updateProfileStatus:function(e){return h.put("profile/status",{status:e})}},E=function(){return h.get("auth/me")},w=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h.post("auth/login",{email:e,password:t,rememberMe:r,captcha:a})},b=function(){return h.delete("auth/login")},P=function(){return h.get("security/get-captcha-url")};function y(){y=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},n=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(x){l=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var n=t&&t.prototype instanceof f?t:f,o=Object.create(n.prototype),i=new N(a||[]);return o._invoke=function(e,t,r){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return S()}for(r.method=n,r.arg=o;;){var i=r.delegate;if(i){var l=w(i,r);if(l){if(l===u)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=c(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var u={};function f(){}function p(){}function m(){}var d={};l(d,n,(function(){return this}));var _=Object.getPrototypeOf,g=_&&_(_(O([])));g&&g!==t&&r.call(g,n)&&(d=g);var h=m.prototype=f.prototype=Object.create(d);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(n,o){function i(){return new t((function(a,i){!function a(n,o,i,l){var s=c(e[n],e,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var n=a.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function O(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=m,l(h,"constructor",m),l(m,"constructor",p),p.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,a,n,o){void 0===o&&(o=Promise);var i=new E(s(t,r,a,n),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(h),l(h,i,"Generator"),l(h,n,(function(){return this})),l(h,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var a=t.pop();if(a in e)return r.value=a,r.done=!1,r}return r.done=!0,r}},e.values=O,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return i.type="throw",i.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;P(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var N={userId:null,email:null,login:null,rememberMe:!1,isAuth:!1,captchaUrl:null},O=function(e,t,r,a){return{type:"SET_AUTH_USER_DATA",payload:{userId:e,email:t,login:r,isAuth:a}}},S=function(e){return{type:"GET_CAPTCHA_URL",payload:{captchaUrl:e}}},x=function(){return function(){var e=Object(d.a)(y().mark((function e(t){var r,a,n,o,i;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:0===(r=e.sent).data.resultCode&&(a=r.data.data,n=a.id,o=a.email,i=a.login,t(O(n,o,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(e,t,r,a){return function(){var n=Object(d.a)(y().mark((function n(o){var i,l;return y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w(e,t,r,a);case 2:0===(i=n.sent).data.resultCode?o(x()):(10===i.data.resultCode&&o(function(){var e=Object(d.a)(y().mark((function e(t){var r,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:r=e.sent,a=r.data.url,t(S(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=i.data.messages.length>0?i.data.messages[0]:"Some Error",o(Object(g.a)("login",{_error:l})));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_USER_DATA":case"GET_CAPTCHA_URL":return Object(_.a)(Object(_.a)({},e),t.payload);case"OUT_AUTH_USER_DATA":return Object(_.a)(Object(_.a)(Object(_.a)({},e),t.payload),{},{isAuth:!1});default:return e}},L={isOpenNavMenu:!1},C=function(e){return{type:"SET_NAV_MENU",isOpen:e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NAV_MENU":return Object(_.a)(Object(_.a)({},e),{},{isOpenNavMenu:t.isOpen});default:return e}},U=r(40),I=r.n(U),A=r(142),F=r(147),M=r.n(F),G=r(148),D=r.n(G),R=function(){return n.a.createElement("div",{className:D.a.logout__img},n.a.createElement("img",{src:M.a}))},z=Object(A.a)({form:"logout"})((function(e){return n.a.createElement("div",{className:I.a.login__block},n.a.createElement("form",{className:I.a.login__form,onSubmit:e.handleSubmit},n.a.createElement("p",{className:I.a.login}," ",e.isAuth?e.login:n.a.createElement(c.b,{to:"/login",onClick:function(){return e.openNavMenu(!1)}},"Login")," ",e.isAuth?n.a.createElement("button",{className:I.a.btn__logout},n.a.createElement(R,null)):"")))})),B=Object(l.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(d.a)(y().mark((function e(t){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:0===e.sent.data.resultCode&&t({type:"OUT_AUTH_USER_DATA",payload:{userId:null,email:null,login:null,isAuth:!1}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},openNavMenu:C})((function(e){return n.a.createElement("div",{className:I.a.login__block},n.a.createElement(z,Object.assign({},e,{onSubmit:function(){e.logout(),e.openNavMenu(!1)},isAuth:e.isAuth,login:e.login})))})),H=function(){return n.a.createElement("header",{className:m.a.header__wrapper},n.a.createElement("div",{className:m.a.header},n.a.createElement("div",{className:m.a.logo},n.a.createElement("p",null,"Social \xb7"),n.a.createElement("p",{className:m.a.logo__text},"\xb7 NET")),n.a.createElement("div",{className:m.a.wrapper_auth},n.a.createElement(B,null))))},J=Object(l.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}))((function(e){return n.a.createElement(H,e)})),q=function(e){if(!e)return"Field is required"},V=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},W=r(104),Y=r(141),Q=r(41),K=r.n(Q),X=["input","meta","child"],Z=["input","meta","child"],$=function(e){var t=e.meta,r=t.touched,a=t.error,o=e.children,i=r&&a;return n.a.createElement("div",{className:K.a.formControl+" "+(i?K.a.error:"")},n.a.createElement("div",null,o),i&&n.a.createElement("span",{className:K.a.formError},a))},ee=function(e){13===e.keyCode&&e.preventDefault()},te=function(e){var t=e.input,r=(e.meta,e.child,Object(W.a)(e,X));return n.a.createElement($,e,n.a.createElement("textarea",Object.assign({onSubmit:ee},t,r)))},re=function(e){var t=e.input,r=(e.meta,e.child,Object(W.a)(e,Z));return n.a.createElement($,e,n.a.createElement("input",Object.assign({className:K.a.inputWrapper},t,r,{autoComplete:"off"})))},ae=function(e,t,r,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return n.a.createElement("div",{className:K.a.fieldControl},n.a.createElement(Y.a,Object.assign({placeholder:e,name:t,validate:r,component:a},o))," ",n.a.createElement("span",{className:K.a.rememberMe},i))},ne=r(23),oe=r.n(ne),ie=Object(A.a)({form:"login"})((function(e){var t=e.handleSubmit,r=e.error,a=e.captchaUrl;return n.a.createElement("div",{className:r?oe.a.formSummaryError:oe.a.form},n.a.createElement("form",{onSubmit:t},n.a.createElement("div",{className:oe.a.titleLogin},n.a.createElement("p",{className:oe.a.loginTitle},"LOGIN")),ae("Email","email",[q],re),ae("Password","password",[q],re,{type:"password"}),ae(null,"rememberMe",[],re,{type:"checkbox"},"Remember Me"),a&&n.a.createElement("img",{className:oe.a.imgCaptcha,src:a}),a&&ae("Symbols from image","captcha",[q],re,{}),n.a.createElement("div",{className:oe.a.submit},n.a.createElement("button",{className:oe.a.loginBtn},"Log In"),n.a.createElement("span",{className:oe.a.error},r&&n.a.createElement("div",null," ",r," ")))))})),le=Object(l.b)(null,{login:j})((function(e){if(e.isAuth)return n.a.createElement(f.a,{replace:!0,to:"/profile"});return n.a.createElement("div",{className:oe.a.wrapperLoginPage},n.a.createElement("div",{className:oe.a.wrapperForm},n.a.createElement(ie,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl})))})),se=Object(l.b)((function(e){return{isAuth:e.auth.isAuth,isFetching:e.usersPage.isFetching,profile:e.profilePage.profile,captchaUrl:e.auth.captchaUrl}}))(le),ce=r(6),ue=function(e){return Object(l.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(t){return t.isAuth?n.a.createElement(e,t):n.a.createElement(f.a,{replace:!0,to:"/login"})}))},fe=r(39),pe={dialogs:[{id:1,name:"Nick 1"},{id:2,name:"Nick 2"},{id:3,name:"Nick 3"},{id:4,name:"Nick 4"},{id:5,name:"Nick 5"}],messages:[]};window.initialState=pe;var me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var r=t.newMessageBody;return Object(_.a)(Object(_.a)({},e),{},{messages:[].concat(Object(fe.a)(e.messages),[{id:t.id,message:r}])});default:return e}},de=r(13),_e=r.n(de),ge=function(e){var t="/messages/"+e.id;return n.a.createElement("div",{className:_e.a.dialog+" "+_e.a.active},n.a.createElement(c.b,{className:_e.a.DialogItem__link,to:t},e.name))},he=function(e){return n.a.createElement("div",{className:_e.a.message},e.message)},ve=V(100),Ee=Object(A.a)({form:"dilogAddMessageForm"})((function(e){return n.a.createElement("div",{className:_e.a.textMessage},n.a.createElement("form",{onSubmit:e.handleSubmit},n.a.createElement("div",null,n.a.createElement(Y.a,{className:_e.a.textarea,component:te,name:"newMessageBody",placeholder:"Enter your message",autoFocus:!0,validate:[q,ve]})),n.a.createElement("div",{className:_e.a.btn},n.a.createElement("div",{className:_e.a.btnSend},n.a.createElement("button",{className:_e.a.button},"Send")))))})),we=function(e){var t,r=e.dialogs.map((function(e){return n.a.createElement(ge,{name:e.name,key:e.id,id:e.id})})),a=e.messages.map((function(e){return n.a.createElement(he,{message:e.message,key:e.id,id:e.id})}));return n.a.createElement("div",{className:_e.a.wrapper__messages},null!==(t=n.a.createElement("div",{className:_e.a.wrapper_dev},n.a.createElement("h2",{className:_e.a.dev},"Currently under development")))&&void 0!==t?t:n.a.createElement("div",null,n.a.createElement("h2",{className:_e.a.title},"Dialogs"),n.a.createElement("div",{className:_e.a.dialogs},r),n.a.createElement("span",{className:_e.a.stick}),n.a.createElement("div",{className:_e.a.flexbox},n.a.createElement("div",{className:_e.a.wrapper__messanger},n.a.createElement("div",{className:_e.a.messanger},a))),n.a.createElement(Ee,{onSubmit:function(t){t.newMessageBody&&(e.sendMessage(t.newMessageBody),t.newMessageBody="")}})))},be=Object(ce.d)(Object(l.b)((function(e){return{dialogs:e.dialogsPage.dialogs,messages:e.dialogsPage.messages,newMessageText:e.dialogsPage.newMessageText}}),(function(e){return{sendMessage:function(t,r){e(function(e,t){return{type:"SEND-MESSAGE",newMessageBody:e,id:t}}(t,r))}}})),ue)(we),Pe=function(e,t,r,a){return e.map((function(e){return e[r]===t?Object(_.a)(Object(_.a)({},e),a):e}))};function ye(){ye=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},n=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var n=t&&t.prototype instanceof f?t:f,o=Object.create(n.prototype),i=new y(a||[]);return o._invoke=function(e,t,r){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return O()}for(r.method=n,r.arg=o;;){var i=r.delegate;if(i){var l=w(i,r);if(l){if(l===u)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=c(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var u={};function f(){}function p(){}function m(){}var d={};l(d,n,(function(){return this}));var _=Object.getPrototypeOf,g=_&&_(_(N([])));g&&g!==t&&r.call(g,n)&&(d=g);var h=m.prototype=f.prototype=Object.create(d);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(n,o){function i(){return new t((function(a,i){!function a(n,o,i,l){var s=c(e[n],e,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var n=a.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function y(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function N(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=m,l(h,"constructor",m),l(m,"constructor",p),p.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,a,n,o){void 0===o&&(o=Promise);var i=new E(s(t,r,a,n),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(h),l(h,i,"Generator"),l(h,n,(function(){return this})),l(h,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var a=t.pop();if(a in e)return r.value=a,r.done=!1,r}return r.done=!0,r}},e.values=N,y.prototype={constructor:y,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return i.type="throw",i.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;P(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Ne={users:[],pageSize:20,totalUsersCount:0,currentPageUsers:1,currentPageFriends:1,isFetching:!0,followingInProgress:[null]},Oe=function(e){return{type:"FOLLOW",userId:e}},Se=function(e){return{type:"UNFOLLOW",userId:e}},xe=function(e){return{type:"SET_USERS",users:e}},je=function(e){return{type:"SET_CURRENT_PAGE_USERS",currentPageUsers:e}},ke=function(e){return{type:"SET_CURRENT_PAGE_FRIENDS",currentPageFriends:e}},Le=function(e){return{type:"SET_TOTAL_USERS_COUNT",count:e}},Ce=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},Te=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},Ue=function(e,t){return function(){var r=Object(d.a)(ye().mark((function r(a){var n;return ye().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(Ce(!0)),a(je(e)),r.next=4,v.requestGetUsers(e,t);case 4:n=r.sent,a(Ce(!1)),a(xe(n.data.items)),a(Le(n.data.totalCount));case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},Ie=function(e,t,r){return function(){var a=Object(d.a)(ye().mark((function a(n){var o;return ye().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Ce(!0)),n(ke(e)),a.next=4,v.requestGetFriendUsers(e,t,r);case 4:o=a.sent,n(Ce(!1)),n(xe(o.data.items)),n(Le(o.data.totalCount));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Ae=function(){var e=Object(d.a)(ye().mark((function e(t,r,a,n){return ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Te(!0,r.id)),e.next=3,a(r);case 3:0===e.sent.data.resultCode&&t(n(r.id)),t(Te(!1,r.id));case 6:case"end":return e.stop()}}),e)})));return function(t,r,a,n){return e.apply(this,arguments)}}(),Fe=function(e){return function(){var t=Object(d.a)(ye().mark((function t(r){return ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ae(r,e,v.follow.bind(v),Oe);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Me=function(e){return function(){var t=Object(d.a)(ye().mark((function t(r){return ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ae(r,e,v.unfollow.bind(v),Se);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(_.a)(Object(_.a)({},e),{},{users:Pe(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(_.a)(Object(_.a)({},e),{},{users:Pe(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(_.a)(Object(_.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE_USERS":return Object(_.a)(Object(_.a)({},e),{},{currentPageUsers:t.currentPageUsers});case"SET_CURRENT_PAGE_FRIENDS":return Object(_.a)(Object(_.a)({},e),{},{currentPageFriends:t.currentPageFriends});case"SET_TOTAL_USERS_COUNT":return Object(_.a)(Object(_.a)({},e),{},{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(_.a)(Object(_.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(_.a)(Object(_.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(fe.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},De=r(159),Re=function(e){return e.usersPage.users},ze=Object(De.a)(Re,(function(e){return e.filter((function(e){return!0}))})),Be=function(e){return e.usersPage.pageSize},He=function(e){return e.usersPage.totalUsersCount},Je=function(e){return e.usersPage.currentPageUsers},qe=function(e){return e.usersPage.currentPageFriends},Ve=function(e){return e.usersPage.isFetching},We=function(e){return e.usersPage.followingInProgress},Ye=r(151),Qe=r.n(Ye),Ke=r(152),Xe=r.n(Ke),Ze=function(e){return n.a.createElement("div",{className:Xe.a.loader},n.a.createElement("img",{src:Qe.a}))},$e=r(9),et=r(42),tt=r.n(et),rt=function(e){for(var t=e.totalUsersCount,r=e.pageSize,o=e.onPageChanged,i=e.currentPage,l=e.portionSize,s=void 0===l?10:l,c=Object(a.useState)(1),u=Object($e.a)(c,2),f=u[0],p=u[1],m=[],d=Math.ceil(t/r),_=1;_<=d;_++)m.push(_);Object(a.useEffect)((function(){p(Math.ceil(i/s))}),[i]);var g=(f-1)*s+1,h=f*s;return n.a.createElement("div",{className:tt.a.numberPage},n.a.createElement("div",{className:tt.a.wrapperPrev}," ",f>1&&n.a.createElement("button",{className:tt.a.portion,onClick:function(){p(f+1),o(i-15)}},n.a.createElement("a",{href:"#top"},"prev"))," "),m.filter((function(e){return e>=g&&e<=h})).map((function(e,t){return n.a.createElement("div",{onClick:function(){o(e)},className:tt.a.wrapperPage,key:t},n.a.createElement("button",{className:i===e?tt.a.selectedPage:""},n.a.createElement("a",{href:"#top"},e)))})),d>14&&n.a.createElement("button",{className:tt.a.portion,onClick:function(){p(f-1),o(i+15)}},n.a.createElement("a",{href:"#top"},"next")))},at=r(25),nt=r.n(at),ot=r(21),it=r.n(ot),lt=function(e){return n.a.createElement("div",{className:nt.a.wrapper},n.a.createElement("div",{className:nt.a.wrapper__avatar},n.a.createElement("div",null,n.a.createElement(c.b,{to:"/profile/"+e.user.id},n.a.createElement("img",{className:nt.a.avatar,src:null!=e.user.photos.small?e.user.photos.small:it.a}))),n.a.createElement("div",{className:nt.a.btn__wrapper},e.user.followed?n.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),className:nt.a.btn__unfollow,onClick:function(){e.unfollow(e.user)}},"Unfollow"):n.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),className:nt.a.btn__follow,onClick:function(){e.follow(e.user)}},"Follow"))),n.a.createElement("div",{className:nt.a.wrapper__info},n.a.createElement("div",null,n.a.createElement("div",{className:nt.a.nickName},n.a.createElement(c.b,{to:"/profile/"+e.user.id,className:nt.a.userName__link},e.user.name)),n.a.createElement("div",{className:nt.a.status},e.user.status)),n.a.createElement("div",{className:nt.a.location},n.a.createElement("div",null,"USA,"),n.a.createElement("div",null,"New York"))))},st=function(e){var t=e.users,r=e.followed,a=e.followingInProgress,o=e.follow,i=e.unfollow,l=e.onPageChanged,s=e.pageSize,c=e.totalUsersCount,u=e.currentPage;return n.a.createElement("div",null,t.map((function(e){return n.a.createElement(lt,{user:e,key:e.id,followed:r,followingInProgress:a,unfollow:i,follow:o})})),n.a.createElement(rt,{totalUsersCount:c,pageSize:s,currentPage:u,onPageChanged:l}))},ct=Object(ce.d)(Object(l.b)((function(e){return{users:Re(e),pageSize:Be(e),totalUsersCount:He(e),currentPage:qe(e),isFetching:Ve(e),followingInProgress:We(e)}}),{setCurrentPageFriends:ke,requestGetFriendUsers:Ie,toggleFollowingProgress:Te,follow:Fe,unfollow:Me}),ue)((function(e){var t=e.users,r=e.currentPage,o=e.pageSize,i=e.requestGetFriendUsers,l=e.follow,s=e.unfollow,c=e.isFetching,u=e.totalUsersCount,f=e.followingInProgress;Object(a.useEffect)((function(){i(r,o)}),[]);return n.a.createElement(n.a.Fragment,null,n.a.createElement("a",{name:"top"}),c?n.a.createElement(Ze,null):n.a.createElement(st,{totalUsersCount:u,pageSize:o,users:t,unfollow:s,follow:l,onPageChanged:function(e){i(e,o)},currentPage:r,followingInProgress:f}))})),ut=r(15),ft=r.n(ut),pt=Object(l.b)((function(e){return{}}),{setCurrentPageFriends:ke,setCurrentPageUsers:je})((function(e){var t=e.setCurrentPageUsers,r=e.setCurrentPageFriends,a=function(e){e.preventDefault(),r(1),t(1)};return n.a.createElement("nav",{className:ft.a.nav},n.a.createElement("div",{className:ft.a.link},n.a.createElement(c.b,{className:function(e){return e.isActive?ft.a.active:ft.a.item},to:"/profile"},"Profile")),n.a.createElement("div",{className:ft.a.link},n.a.createElement(c.b,{className:function(e){return e.isActive?ft.a.active:ft.a.item},to:"/messages"},"Messages")),n.a.createElement("div",{className:ft.a.link,onClick:a},n.a.createElement(c.b,{className:function(e){return e.isActive?ft.a.active:ft.a.item},to:"/users"},"Users")),n.a.createElement("div",{className:ft.a.link,onClick:a},n.a.createElement(c.b,{className:function(e){return e.isActive?ft.a.active:ft.a.item},to:"/friends"},"My Friends")),n.a.createElement("div",{className:ft.a.line}),n.a.createElement("div",{className:ft.a.link},n.a.createElement(c.b,{className:function(e){return e.isActive?ft.a.active:ft.a.item},to:"/settings"},"My Settings")))})),mt=r(80),dt=r(79),_t=r.n(dt);function gt(){gt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},n=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var n=t&&t.prototype instanceof f?t:f,o=Object.create(n.prototype),i=new y(a||[]);return o._invoke=function(e,t,r){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return O()}for(r.method=n,r.arg=o;;){var i=r.delegate;if(i){var l=w(i,r);if(l){if(l===u)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=c(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var u={};function f(){}function p(){}function m(){}var d={};l(d,n,(function(){return this}));var _=Object.getPrototypeOf,g=_&&_(_(N([])));g&&g!==t&&r.call(g,n)&&(d=g);var h=m.prototype=f.prototype=Object.create(d);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(n,o){function i(){return new t((function(a,i){!function a(n,o,i,l){var s=c(e[n],e,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var n=a.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function y(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function N(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=m,l(h,"constructor",m),l(m,"constructor",p),p.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,a,n,o){void 0===o&&(o=Promise);var i=new E(s(t,r,a,n),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(h),l(h,i,"Generator"),l(h,n,(function(){return this})),l(h,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var a=t.pop();if(a in e)return r.value=a,r.done=!1,r}return r.done=!0,r}},e.values=N,y.prototype={constructor:y,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return i.type="throw",i.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;P(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var ht={posts:[],id:0,newPostText:"",profile:null,isFetching:!0,status:"",urlProfilePhoto:null},vt={key:"root",storage:_t.a,blacklist:["urlProfilePhoto","status","isFetching","profile"]},Et=function(e,t){return{type:"ADD-POST",newPostText:e,id:t}},wt=function(e){return{type:"DELETE_POST",isDelete:e}},bt=function(e){return{type:"SET_STATUS",status:e}},Pt=function(e){return{type:"SET_PHOTO_PROFILE",urlProfilePhoto:e}},yt=function(e){return function(){var t=Object(d.a)(gt().mark((function t(r){var a;return gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getUserProfile(e);case 2:a=t.sent,r({type:"SET_USER_PROFILE",profile:a.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Nt=function(e){return function(){var t=Object(d.a)(gt().mark((function t(r){var a;return gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getProfileStatus(e);case 2:a=t.sent,r(bt(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ot=function(e){return function(){var t=Object(d.a)(gt().mark((function t(r){return gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.updateProfileStatus(e);case 2:0===t.sent.data.resultCode&&r(bt(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},St=Object(mt.a)(vt,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var r=t.newPostText;return Object(_.a)(Object(_.a)({},e),{},{posts:[].concat(Object(fe.a)(e.posts),[{id:t.id,message:r,isDelete:!1}])});case"DELETE_POST":return Object(_.a)(Object(_.a)({},e),{},{posts:Object(fe.a)(e.posts.filter((function(e){return!1!==e.isDelete})))});case"SET_USER_PROFILE":return Object(_.a)(Object(_.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(_.a)(Object(_.a)({},e),{},{status:t.status});case"SET_PHOTO_PROFILE":return Object(_.a)(Object(_.a)({},e),{},{urlProfilePhoto:t.urlProfilePhoto});default:return e}})),xt=r(66),jt=r.n(xt),kt=function(e){return n.a.createElement("div",{className:jt.a.wrapperContact},n.a.createElement("p",null,n.a.createElement("b",null,e.contactTitle,":")," ",e.contactValue?e.contactValue:"-"))},Lt=function(e){var t=Object(a.useState)(!1),r=Object($e.a)(t,2),o=r[0],i=r[1];return n.a.createElement("div",{className:jt.a.wrapperAddInf},n.a.createElement("div",null,n.a.createElement("p",null,n.a.createElement("b",null,"lookingForAJob:"),n.a.createElement("span",null,e.profile.lookingForAJob?"Yes":"No"))),e.profile.lookingForAJob&&n.a.createElement("div",null,n.a.createElement("p",null,n.a.createElement("b",null,"My profissional skill:"),n.a.createElement("span",null,e.profile.lookingForAJobDescription))),n.a.createElement("div",null,n.a.createElement("p",null,n.a.createElement("b",null,"Full name:"),n.a.createElement("span",null,e.profile.fullName))),n.a.createElement("div",{className:jt.a.wrapperContacts},n.a.createElement("b",null,"Contacts:"),n.a.createElement("span",{onClick:function(){i(!o)}},n.a.createElement("p",{className:o?jt.a.editModeActive:null},"\u1405")),o&&Object.keys(e.profile.contacts).map((function(t){return n.a.createElement(kt,{key:t,contactTitle:t,contactValue:e.profile.contacts[t]})}))))},Ct=r(53),Tt=r.n(Ct),Ut=function(e){var t=Object(a.useState)(!1),r=Object($e.a)(t,2);r[0],r[1];return n.a.createElement("div",{className:Tt.a.wrapper},e.posts.map((function(t,r,a){return n.a.createElement("ul",{key:r},n.a.createElement("li",null,n.a.createElement("div",{className:Tt.a.post},n.a.createElement("div",{className:Tt.a.avatar},n.a.createElement("img",{src:null!=e.profile.photos.small?e.profile.photos.small:it.a})),n.a.createElement("div",{className:Tt.a.text},t.message,n.a.createElement("span",{className:Tt.a.deleteBtn,onClick:function(){return e.deletePost(!a)}},"x")))))})))},It=r(33),At=r.n(It),Ft=V(500),Mt=Object(A.a)({form:"addMyPostForm"})((function(e){var t=Object(a.useState)(""),r=Object($e.a)(t,2),o=r[0],i=r[1],l=Object(a.useRef)();return n.a.createElement("div",null,n.a.createElement("form",{ref:l,onSubmit:e.handleSubmit},n.a.createElement("div",{className:At.a.textarea__wrapper},n.a.createElement(Y.a,{component:te,name:"newPostText",className:At.a.textarea,validate:[q,Ft],placeholder:"Post message",value:o,onChange:function(e){return i(e.target.value)}})),n.a.createElement("div",{className:At.a.btn__wrapper},n.a.createElement("button",{className:At.a.btn,type:"submit"},"Post"))))})),Gt=function(e){return n.a.createElement("div",{className:At.a.wrapper},n.a.createElement(Mt,{onSubmit:function(t){t.newPostText&&(e.addPost(t.newPostText,e.id),t.newPostText="")},addPost:e.addPost,newPostText:e.newPostText}),n.a.createElement("h2",null,"Posts:"),n.a.createElement("div",{className:At.a.Posts},e.isFetching?n.a.createElement(Ut,{posts:e.posts,id:e.id,deletePost:e.deletePost,profile:e.profile,idPost:e.idPost}):n.a.createElement(Ze,null)))},Dt=Object(l.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText,profile:e.profilePage.profile,isFetching:e.profilePage.isFetching}}),(function(e){return{addPost:function(t,r){e(Et(t,r))},deletePost:function(t){e(wt(t))}}}))(Gt),Rt=r(103),zt=r.n(Rt),Bt=r(43),Ht=r.n(Bt),Jt=r(153),qt=r.n(Jt),Vt=function(e){var t=n.a.createRef(),r=Object(a.useState)(!1),o=Object($e.a)(r,2),i=o[0],l=o[1],s=Object(a.useState)(e.status),c=Object($e.a)(s,2),u=c[0],f=c[1],p=function(){l(!1),e.status?e.updateProfileStatus(u):e.updateProfileStatus("\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441")};return Object(a.useEffect)((function(){u!==e.status&&f(e.status)}),[e.status]),n.a.createElement("div",null,!i&&n.a.createElement("div",null,n.a.createElement("span",{"data-testid":"status",className:qt.a.aboutMe__editor,onClick:function(){l(!0)}},e.status?e.status:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441")),i&&n.a.createElement("div",null,n.a.createElement("input",{"data-testid":"status-input",ref:t,onChange:function(e){t.current.addEventListener("keydown",(function(e){13===e.keyCode&&(e.preventDefault(),p())}),{once:!0}),f(e.currentTarget.value)},autoFocus:!0,onBlur:function(){return l(!1),e.status},defaultValue:u,maxLength:300,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441",type:"text"}),n.a.createElement("div",null,n.a.createElement("button",{"data-testid":"btn-status",onClick:p,onMouseDown:p,type:"submit"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))},Wt=(r(322),function(e){var t=e.active,r=e.setEctive,o=e.setPhoto,i=e.children,l=e.profilePhotoLarge,s=Object(a.useState)(null),c=Object($e.a)(s,2),u=c[0],f=c[1];return n.a.createElement("div",{className:t?"modalWrapper active":"modalWrapper",onClick:function(){if(!l&&u){var e=URL.createObjectURL(u);o(e)}r(!t)}},n.a.createElement("div",{className:"closedBtn",onClick:function(){return r(!t)}},"x"),n.a.createElement("div",{className:t?"modalContent active":"modalContent",onClick:function(e){return e.stopPropagation()}},u&&n.a.createElement("img",{src:URL.createObjectURL(u)}),!u&&n.a.createElement("img",{src:i||it.a}),n.a.createElement("div",{className:"wrapperFileInput"},n.a.createElement("label",{htmlFor:"file",className:"labelFileInput"},"Loading image"),n.a.createElement("input",{type:"file",id:"file",className:"fileInput",name:"file",onChange:function(e){return f(e.target.files[0])}}))))}),Yt=function(){return n.a.createElement("div",null,"'Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugiat deleniti ipsam veritatis.'")},Qt=function(e){var t,r,o=Object(a.useState)(!1),i=Object($e.a)(o,2),l=i[0],s=i[1],c=Object(a.useState)(null),u=Object($e.a)(c,2),f=u[0],p=u[1];return Object(a.useEffect)((function(){f&&e.updateProfilePhoto(f)})),e.profile?n.a.createElement("div",{className:Ht.a.profile__wrapper},n.a.createElement("div",{className:Ht.a.wrapper_img},n.a.createElement("img",{className:Ht.a.profile__img,src:null!==(t=null!==(r=e.profile.photos.large)&&void 0!==r?r:e.urlProfilePhoto)&&void 0!==t?t:it.a,onClick:function(){return s(!l)}})),n.a.createElement(Wt,{active:l,setEctive:s,setPhoto:p,profilePhotoLarge:e.profile.photos.large,children:e.profile.photos.large}),n.a.createElement("div",{className:Ht.a.profile__info},n.a.createElement("div",{className:Ht.a.userName},e.profile.fullName),n.a.createElement("div",{className:Ht.a.about__user},null!=n.a.createElement(Vt,null)?n.a.createElement(Vt,{profile:e.profile,status:e.status,updateProfileStatus:e.updateProfileStatus}):n.a.createElement(Yt,null)))):n.a.createElement(Ze,null)},Kt=function(e){return e.profile?n.a.createElement("div",{className:zt.a.content},n.a.createElement("div",{className:zt.a.profile__wrapper},n.a.createElement(Qt,{profile:e.profile,status:e.status,updateProfileStatus:e.updateProfileStatus,urlProfilePhoto:e.urlProfilePhoto,updateProfilePhoto:e.updateProfilePhoto}),n.a.createElement(Lt,{profile:e.profile,lookingForAJob:e.lookingForAJob,lookingForAJobDescription:e.lookingForAJobDescription,fullName:e.fullName,contacts:e.contacts}),n.a.createElement(Dt,{profile:e.profile}))):n.a.createElement(Ze,null)},Xt=Object(ce.d)(Object(l.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.userId,isAuth:e.auth.isAuth,urlProfilePhoto:e.profilePage.urlProfilePhoto}}),{getProfile:yt,getProfileStatus:Nt,updateProfileStatus:Ot,updateProfilePhoto:Pt}),ue)((function(e){var t=Object(f.h)().userId;return Object(a.useEffect)((function(){t||(t=e.authUserId,e.getProfile(t),e.getProfileStatus(t)),e.getProfile(t),e.getProfileStatus(t)}),[t]),n.a.createElement(Kt,Object.assign({},e,{profile:e.profile,status:e.status,updateProfileStatus:e.updateProfileStatus}))})),Zt={isSelectedDarkTheme:null},$t=function(e){return{type:"SELECTED_DARK_THEME",isSelected:e}},er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECTED_DARK_THEME":return Object(_.a)(Object(_.a)({},e),{},{isSelectedDarkTheme:t.isSelected});default:return e}},tr=function(){var e=Object(a.useState)(localStorage.getItem("app-theme")),t=Object($e.a)(e,2),r=t[0],n=t[1];return Object(a.useLayoutEffect)((function(){document.documentElement.setAttribute("data-theme",r),localStorage.setItem("app-theme",r)}),[r]),{theme:r,setTheme:n}},rr=(r(323),function(e){var t=e.isSelected,r=e.selectedDarkTheme,o=tr(),i=(o.theme,o.setTheme);return Object(a.useEffect)((function(){i(t?"dark":"light")})),n.a.createElement("div",{className:"wrapperSwitchInput"},n.a.createElement("fieldset",null,n.a.createElement("input",{type:"checkbox",id:"switch",onClick:function(){r(!t)},defaultChecked:!!t}),n.a.createElement("label",{htmlFor:"switch"},"Toggle")))}),ar=r(82),nr=r.n(ar),or=function(e){var t=e.isSelected,r=e.selectedDarkTheme,a=tr();a.theme,a.setTheme;return n.a.createElement("div",{className:nr.a.wrapper},n.a.createElement("h2",null,"Settings:"),n.a.createElement("div",{className:nr.a.wrapperFields},n.a.createElement("fieldset",null,n.a.createElement("span",null,"Dark theme:"),n.a.createElement("div",{className:nr.a.inputLabel},n.a.createElement(rr,{isSelected:t,selectedDarkTheme:r})))))},ir=Object(ce.d)(Object(l.b)((function(e){return{isSelected:e.settingPage.isSelectedDarkTheme}}),{selectedDarkTheme:$t}),ue)(or),lr=function(e){return n.a.createElement("div",null,e.users.map((function(t){return n.a.createElement(lt,{user:t,key:t.id,followed:e.followed,followingInProgress:e.followingInProgress,unfollow:e.unfollow,follow:e.follow})})),n.a.createElement(rt,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged}))},sr=Object(ce.d)(Object(l.b)((function(e){return{users:ze(e),pageSize:Be(e),totalUsersCount:He(e),currentPage:Je(e),isFetching:Ve(e),followingInProgress:We(e)}}),{setCurrentPageUsers:je,toggleFollowingProgress:Te,requestGetUsers:Ue,follow:Fe,unfollow:Me}),ue)((function(e){Object(a.useEffect)((function(){e.requestGetUsers(e.currentPage,e.pageSize)}),[]);return n.a.createElement(n.a.Fragment,null,n.a.createElement("a",{name:"top"}),e.isFetching?n.a.createElement(Ze,null):n.a.createElement(lr,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,users:e.users,unfollow:e.unfollow,follow:e.follow,onPageChanged:function(t){e.requestGetUsers(t,e.pageSize)},currentPage:e.currentPage,followingInProgress:e.followingInProgress}))})),cr=function(e){var t=e.isAuth,r=e.authUserId;return n.a.createElement("div",{className:"app-wrapper"},n.a.createElement(J,null),t&&n.a.createElement(pt,{authUserId:r}),n.a.createElement(f.d,null,n.a.createElement(f.b,{path:"/login",element:n.a.createElement(se,null)})),n.a.createElement("div",{className:"app-wrapper-content"},n.a.createElement(f.d,null,n.a.createElement(f.b,{path:"/profile",element:n.a.createElement(Xt,null)},n.a.createElement(f.b,{path:":userId",element:n.a.createElement(Xt,null)})),n.a.createElement(f.b,{path:"/messages/*",element:n.a.createElement(be,null)}),n.a.createElement(f.b,{path:"/users",element:n.a.createElement(sr,null)}),n.a.createElement(f.b,{path:"/friends",element:n.a.createElement(ct,null)}),n.a.createElement(f.b,{path:"/settings",element:n.a.createElement(ir,null)}))))},ur=r(14),fr=r.n(ur),pr=function(e){e.open;var t=e.openNavMenu;return n.a.createElement("div",{className:fr.a.wrapper_nav},n.a.createElement("div",{className:fr.a.wrapper_auth},n.a.createElement(B,null)),n.a.createElement("nav",{className:fr.a.nav},n.a.createElement("div",{className:fr.a.link},n.a.createElement(c.b,{onClick:function(){t(!1)},className:function(e){return e.isActive?fr.a.active:fr.a.item},to:"/profile"},"Profile")),n.a.createElement("div",{className:fr.a.link},n.a.createElement(c.b,{onClick:function(){t(!1)},className:function(e){return e.isActive?fr.a.active:fr.a.item},to:"/messages"},"Messages")),n.a.createElement("div",{className:fr.a.link},n.a.createElement(c.b,{onClick:function(){t(!1)},className:function(e){return e.isActive?fr.a.active:fr.a.item},to:"/users"},"Users")),n.a.createElement("div",{className:fr.a.link},n.a.createElement(c.b,{onClick:function(){t(!1)},className:function(e){return e.isActive?fr.a.active:fr.a.item},to:"/friends"},"My Friends")),n.a.createElement("div",{className:fr.a.line}),n.a.createElement("div",{className:fr.a.link},n.a.createElement(c.b,{onClick:function(){t(!1)},className:function(e){return e.isActive?fr.a.active:fr.a.item},to:"/settings"},"My Settings"))))},mr=Object(l.b)((function(e){return{open:e.mobHeader.isOpenNavMenu}}),{openNavMenu:C})(pr),dr=r(35),_r=r.n(dr),gr=function(e){var t=e.openNavMenu,r=e.open;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:_r.a.wrapper},n.a.createElement("div",{className:r?_r.a.open:_r.a.burger_menu},n.a.createElement("span",{onClick:function(){return t(!r)}},"Menu")),n.a.createElement("div",{className:r?_r.a.menu_open:_r.a.menu_closed},n.a.createElement(mr,null)),n.a.createElement("div",{className:_r.a.logo},n.a.createElement("p",null,"Social \xb7"),n.a.createElement("p",{className:_r.a.logo__text},"\xb7 NET"))))},hr=Object(l.b)((function(e){return{open:e.mobHeader.isOpenNavMenu}}),{openNavMenu:C})(gr),vr=r(24),Er=r.n(vr),wr=Object(A.a)({form:"login"})((function(e){var t=e.handleSubmit,r=e.error,a=e.captchaUrl;return n.a.createElement("div",{className:r?Er.a.formSummaryError:Er.a.form},n.a.createElement("form",{onSubmit:t},n.a.createElement("div",{className:Er.a.titleLogin},n.a.createElement("p",{className:Er.a.loginTitle},"LOGIN")),ae("Email","email",[q],re),ae("Password","password",[q],re,{type:"password"}),ae(null,"rememberMe",[],re,{type:"checkbox"},"Remember Me"),a&&n.a.createElement("img",{className:Er.a.imgCaptcha,src:a}),a&&ae("Symbols from image","captcha",[q],re,{}),n.a.createElement("div",{className:Er.a.submit},n.a.createElement("button",{className:Er.a.loginBtn},"Log In"),n.a.createElement("span",{className:Er.a.error},r&&n.a.createElement("div",null," ",r," ")))))})),br=Object(l.b)(null,{login:j})((function(e){if(e.isAuth)return n.a.createElement(f.a,{replace:!0,to:"/profile"});return n.a.createElement("div",{className:Er.a.wrapperLoginPage},n.a.createElement("div",{className:Er.a.wrapperForm},n.a.createElement(wr,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl})))})),Pr=Object(l.b)((function(e){return{isAuth:e.auth.isAuth,isFetching:e.usersPage.isFetching,profile:e.profilePage.profile,captchaUrl:e.auth.captchaUrl}}))(br),yr=r(83),Nr=r.n(yr),Or=function(){return n.a.createElement("div",{className:Nr.a.wrapper},n.a.createElement("div",{className:Nr.a.wrapper_dev},n.a.createElement("h2",{className:Nr.a.dev},"Currently under development")))},Sr=r(22),xr=r.n(Sr),jr=function(e){return n.a.createElement("div",{className:xr.a.wrapper},n.a.createElement("div",{className:xr.a.wrapper__avatar},n.a.createElement("div",null,n.a.createElement(c.b,{to:"/profile/"+e.user.id},n.a.createElement("img",{className:xr.a.avatar,src:null!=e.user.photos.small?e.user.photos.small:it.a}))),n.a.createElement("div",{className:xr.a.btn__wrapper},e.user.followed?n.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),className:xr.a.btn__unfollow,onClick:function(){e.unfollow(e.user)}},"Unfollow"):n.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),className:xr.a.btn__follow,onClick:function(){e.follow(e.user)}},"Follow"))),n.a.createElement("div",{className:xr.a.wrapper__info},n.a.createElement("div",null,n.a.createElement("div",{className:xr.a.nickName},n.a.createElement(c.b,{to:"/profile/"+e.user.id,className:xr.a.userName__link},e.user.name)),n.a.createElement("div",{className:xr.a.status},e.user.status)),n.a.createElement("div",{className:xr.a.location},n.a.createElement("div",null,"USA,"),n.a.createElement("div",null,"New York"))))},kr=function(e){var t=e.users,r=e.followed,a=e.followingInProgress,o=e.follow,i=e.unfollow,l=e.onPageChanged,s=e.pageSize,c=e.totalUsersCount,u=e.currentPage;return n.a.createElement("div",null,t.map((function(e){return n.a.createElement(jr,{user:e,key:e.id,followed:r,followingInProgress:a,unfollow:i,follow:o})})),n.a.createElement(rt,{totalUsersCount:c,pageSize:s,currentPage:u,onPageChanged:l}))},Lr=Object(ce.d)(Object(l.b)((function(e){return{users:Re(e),pageSize:Be(e),totalUsersCount:He(e),currentPage:qe(e),isFetching:Ve(e),followingInProgress:We(e)}}),{setCurrentPageFriends:ke,requestGetFriendUsers:Ie,toggleFollowingProgress:Te,follow:Fe,unfollow:Me}),ue)((function(e){var t=e.users,r=e.currentPage,o=e.pageSize,i=e.requestGetFriendUsers,l=e.follow,s=e.unfollow,c=e.isFetching,u=e.totalUsersCount,f=e.followingInProgress;Object(a.useEffect)((function(){i(r,o)}),[]);return n.a.createElement(n.a.Fragment,null,n.a.createElement("a",{name:"top"}),c?n.a.createElement(Ze,null):n.a.createElement(kr,{totalUsersCount:u,pageSize:o,users:t,unfollow:s,follow:l,onPageChanged:function(e){i(e,o)},currentPage:r,followingInProgress:f}))})),Cr=r(54),Tr=r.n(Cr),Ur=function(e){return n.a.createElement("div",{className:Tr.a.wrapperContact},n.a.createElement("p",null,n.a.createElement("b",null,e.contactTitle,":")," ",e.contactValue?e.contactValue:"-"))},Ir=function(e){var t=Object(a.useState)(!1),r=Object($e.a)(t,2),o=r[0],i=r[1];return n.a.createElement("div",{className:Tr.a.wrapperAddInf},n.a.createElement("div",null,n.a.createElement("p",null,n.a.createElement("b",null,"looking for a Job:"),n.a.createElement("span",null,e.profile.lookingForAJob?"Yes":"No"))),e.profile.lookingForAJob&&n.a.createElement("div",null,n.a.createElement("p",null,n.a.createElement("b",null,"My profissional skill:"),n.a.createElement("span",null,e.profile.lookingForAJobDescription))),n.a.createElement("div",null,n.a.createElement("p",null,n.a.createElement("b",null,"Full name:"),n.a.createElement("span",null,e.profile.fullName))),n.a.createElement("div",{className:Tr.a.wrapperContacts},n.a.createElement("b",{className:Tr.a.wrapperMode},"Contacts:"),n.a.createElement("span",{onClick:function(){i(!o)}},n.a.createElement("p",{className:o?Tr.a.editModeActive:null},"\u1405")),o&&Object.keys(e.profile.contacts).map((function(t){return n.a.createElement(Ur,{key:t,contactTitle:t,contactValue:e.profile.contacts[t]})}))))},Ar=r(55),Fr=r.n(Ar),Mr=function(e){var t=Object(a.useState)(!1),r=Object($e.a)(t,2);r[0],r[1];return n.a.createElement("div",{className:Fr.a.wrapper},e.posts.map((function(t,r,a){return n.a.createElement("ul",{key:r},n.a.createElement("li",null,n.a.createElement("div",{className:Fr.a.post},n.a.createElement("div",{className:Fr.a.avatar},n.a.createElement("img",{src:null!=e.profile.photos.small?e.profile.photos.small:it.a})),n.a.createElement("div",{className:Fr.a.text},t.message,n.a.createElement("span",{className:Fr.a.deleteBtn,onClick:function(){return e.deletePost(!a)}},"x")))))})))},Gr=r(34),Dr=r.n(Gr),Rr=V(200),zr=Object(A.a)({form:"addMyPostForm"})((function(e){var t=Object(a.useState)(""),r=Object($e.a)(t,2),o=r[0],i=r[1],l=Object(a.useRef)();return n.a.createElement("div",null,n.a.createElement("form",{ref:l,onSubmit:e.handleSubmit},n.a.createElement("div",{className:Dr.a.textarea__wrapper},n.a.createElement(Y.a,{component:te,name:"newPostText",className:Dr.a.textarea,validate:[q,Rr],placeholder:"Post message",value:o,onChange:function(e){return i(e.target.value)}})),n.a.createElement("div",{className:Dr.a.btn__wrapper},n.a.createElement("button",{className:Dr.a.btn,type:"submit"},"Post"))))})),Br=function(e){return n.a.createElement("div",{className:Dr.a.wrapper},n.a.createElement(zr,{onSubmit:function(t){t.newPostText&&(e.addPost(t.newPostText,e.id),t.newPostText="")},addPost:e.addPost,newPostText:e.newPostText}),n.a.createElement("h2",null,"Posts:"),n.a.createElement("div",{className:Dr.a.posts},e.isFetching?n.a.createElement(Mr,{posts:e.posts,id:e.id,deletePost:e.deletePost,profile:e.profile,idPost:e.idPost}):n.a.createElement(Ze,null)))},Hr=Object(l.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText,profile:e.profilePage.profile,isFetching:e.profilePage.isFetching}}),(function(e){return{addPost:function(t,r){e(Et(t,r))},deletePost:function(t){e(wt(t))}}}))(Br),Jr=r(154),qr=r.n(Jr),Vr=r(44),Wr=r.n(Vr),Yr=r(155),Qr=r.n(Yr),Kr=function(e){var t=n.a.createRef(),r=Object(a.useState)(!1),o=Object($e.a)(r,2),i=o[0],l=o[1],s=Object(a.useState)(e.status),c=Object($e.a)(s,2),u=c[0],f=c[1],p=function(){l(!1),e.status?e.updateProfileStatus(u):e.updateProfileStatus("\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441")};return Object(a.useEffect)((function(){u!==e.status&&f(e.status)}),[e.status]),n.a.createElement("div",null,!i&&n.a.createElement("div",null,n.a.createElement("span",{"data-testid":"status",className:Qr.a.aboutMe__editor,onClick:function(){l(!0)}},e.status?e.status:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441")),i&&n.a.createElement("div",null,n.a.createElement("input",{"data-testid":"status-input",ref:t,onChange:function(e){t.current.addEventListener("keydown",(function(e){13===e.keyCode&&(e.preventDefault(),p())}),{once:!0}),f(e.currentTarget.value)},autoFocus:!0,onBlur:function(){return l(!1),e.status},defaultValue:u,maxLength:300,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441",type:"text"}),n.a.createElement("div",null,n.a.createElement("button",{"data-testid":"btn-status",onClick:p,onMouseDown:p,type:"submit"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))},Xr=function(e){var t,r,o=e.updateProfilePhoto,i=e.profile,l=e.urlProfilePhoto,s=e.status,c=e.updateProfileStatus,u=Object(a.useState)(!1),f=Object($e.a)(u,2),p=f[0],m=f[1],d=Object(a.useState)(null),_=Object($e.a)(d,2),g=_[0],h=_[1];return Object(a.useEffect)((function(){g&&o(g)})),i?n.a.createElement("div",{className:Wr.a.profile__wrapper},n.a.createElement("div",{className:Wr.a.profile__info},n.a.createElement("div",{className:Wr.a.userName},i.fullName),n.a.createElement("div",{className:Wr.a.about__user},null!=n.a.createElement(Kr,null)?n.a.createElement(Kr,{profile:i,status:s,updateProfileStatus:c}):n.a.createElement(Yt,null))),n.a.createElement("div",{className:Wr.a.wrapper_img},n.a.createElement("img",{className:Wr.a.profile__img,src:null!==(t=null!==(r=i.photos.large)&&void 0!==r?r:l)&&void 0!==t?t:it.a,onClick:function(){return m(!p)}})),n.a.createElement(Wt,{active:p,setEctive:m,setPhoto:h,profilePhotoLarge:i.photos.large,children:i.photos.large})):n.a.createElement(Ze,null)},Zr=function(e){var t=e.profile,r=e.status,a=(e.authUserId,e.isAuth,e.urlProfilePhoto),o=(e.getProfile,e.updateProfileStatus),i=(e.getProfileStatus,e.updateProfilePhoto),l=e.lookingForAJob,s=e.lookingForAJobDescription,c=e.fullName,u=e.contacts;return t?n.a.createElement("div",{className:qr.a.profile__wrapper},n.a.createElement(Xr,{profile:t,status:r,updateProfileStatus:o,urlProfilePhoto:a,updateProfilePhoto:i}),n.a.createElement(Ir,{profile:t,lookingForAJob:l,lookingForAJobDescription:s,fullName:c,contacts:u}),n.a.createElement(Hr,{profile:t})):n.a.createElement(Ze,null)},$r=Object(ce.d)(Object(l.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.userId,isAuth:e.auth.isAuth,urlProfilePhoto:e.profilePage.urlProfilePhoto}}),{getProfile:yt,getProfileStatus:Nt,updateProfileStatus:Ot,updateProfilePhoto:Pt}),ue)((function(e){var t=e.profile,r=e.status,o=e.updateProfileStatus,i=e.authUserId,l=e.getProfile,s=e.getProfileStatus,c=Object(f.h)().userId;return Object(a.useEffect)((function(){c||(l(c=i),s(c)),l(c),s(c)}),[c]),n.a.createElement(Zr,{profile:t,status:r,updateProfileStatus:o})})),ea=r(84),ta=r.n(ea),ra=function(e){var t=e.isSelected,r=e.selectedDarkTheme,a=tr();a.theme,a.setTheme;return n.a.createElement("div",{className:ta.a.wrapper},n.a.createElement("h2",null,"Settings:"),n.a.createElement("div",{className:ta.a.wrapperFields},n.a.createElement("fieldset",null,n.a.createElement("span",null,"Dark theme:"),n.a.createElement("div",{className:ta.a.inputLabel},n.a.createElement(rr,{isSelected:t,selectedDarkTheme:r})))))},aa=Object(ce.d)(Object(l.b)((function(e){return{isSelected:e.settingPage.isSelectedDarkTheme}}),{selectedDarkTheme:$t}),ue)(ra),na=function(e){return n.a.createElement("div",{className:xr.a.wrapper_users},e.users.map((function(t){return n.a.createElement(jr,{user:t,key:t.id,followed:e.followed,followingInProgress:e.followingInProgress,unfollow:e.unfollow,follow:e.follow})})),n.a.createElement(rt,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged}))},oa=Object(ce.d)(Object(l.b)((function(e){return{users:ze(e),pageSize:Be(e),totalUsersCount:He(e),currentPage:Je(e),isFetching:Ve(e),followingInProgress:We(e)}}),{setCurrentPageUsers:je,toggleFollowingProgress:Te,requestGetUsers:Ue,follow:Fe,unfollow:Me}),ue)((function(e){Object(a.useEffect)((function(){e.requestGetUsers(e.currentPage,e.pageSize)}),[]);return n.a.createElement(n.a.Fragment,null,n.a.createElement("a",{name:"top"}),e.isFetching?n.a.createElement(Ze,null):n.a.createElement(na,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,users:e.users,unfollow:e.unfollow,follow:e.follow,onPageChanged:function(t){e.requestGetUsers(t,e.pageSize)},currentPage:e.currentPage,followingInProgress:e.followingInProgress}))})),ia=r(85),la=r.n(ia),sa=Object(l.b)((function(e){return{open:e.mobHeader.isOpenNavMenu}}))((function(e){e.open;return n.a.createElement("div",{className:la.a.wrapper_app},n.a.createElement("header",{className:la.a.header},n.a.createElement(hr,null)),n.a.createElement("main",{className:la.a.content},n.a.createElement(f.d,null,n.a.createElement(f.b,{path:"/profile",element:n.a.createElement($r,null)},n.a.createElement(f.b,{path:":userId",element:n.a.createElement($r,null)})),n.a.createElement(f.b,{path:"/messages",element:n.a.createElement(Or,null)}),n.a.createElement(f.b,{path:"/users",element:n.a.createElement(oa,null)}),n.a.createElement(f.b,{path:"/friends",element:n.a.createElement(Lr,null)}),n.a.createElement(f.b,{path:"/settings",element:n.a.createElement(aa,null)}),n.a.createElement(f.b,{path:"/login",element:n.a.createElement(Pr,null)}))))})),ca=function(){return n.a.createElement("div",null,"TabletView")},ua={initialized:!1},fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED__ACCESS":return Object(_.a)(Object(_.a)({},e),{},{initialized:!0});default:return e}},pa=r(158),ma=r(143),da=r(157),_a=r(156),ga=Object(ce.c)({profilePage:St,dialogsPage:me,usersPage:Ge,settingPage:er,auth:k,form:ma.a,app:fa,mobHeader:T}),ha={key:"root",storage:_t.a,whitelist:["settingPage","dialogsPage","profilePage"]},va=Object(mt.a)(ha,ga),Ea=Object(ce.e)(va,Object(da.a)(Object(ce.a)(pa.a))),wa=Object(_a.a)(Ea),ba=Object(l.b)((function(e){return{initialize:e.app.initialized,authUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{initializeApp:function(){return function(e){var t=e(x());Promise.all([t]).then((function(){e({type:"INITIALIZED__ACCESS"})}))}}})((function(e){var t=e.isAuth,r=e.authUserId,o=e.initializeApp,i=e.initialize,l=Object(s.useMediaQuery)({query:"(min-width: 1024px)"}),c=Object(s.useMediaQuery)({query:"(max-width: 786px)"}),u=(Object(s.useMediaQuery)({query:"(orientation: portrait)"}),Object(s.useMediaQuery)({query:"(max-width: 1224px)"})),f=(Object(s.useMediaQuery)({query:"(max-resolution: 300dpi)"}),tr());f.theme,f.setTheme;return Object(a.useEffect)((function(){o()}),[]),i?n.a.createElement("div",null,l&&n.a.createElement(cr,{isAuth:t,authUserId:r})||c&&n.a.createElement(sa,null)||u&&n.a.createElement(ca,null)):n.a.createElement(Ze,null)})),Pa=function(){return n.a.createElement(c.a,null,n.a.createElement(l.a,{store:Ea},n.a.createElement(u.a,{loading:n.a.createElement(ba,null),persistor:wa},n.a.createElement(ba,null))))};r(324);i.a.render(n.a.createElement(Pa,null),document.getElementById("root"))},33:function(e,t,r){e.exports={wrapper:"MyPost_wrapper__3QE7p",textarea:"MyPost_textarea__34Cz3",btn__wrapper:"MyPost_btn__wrapper__3WtTe",btn:"MyPost_btn__3iPP4"}},34:function(e,t,r){e.exports={wrapper:"MyPost_wrapper__1dF4r",textarea:"MyPost_textarea__3n1Ie",btn__wrapper:"MyPost_btn__wrapper__KEPUU",btn:"MyPost_btn__27yjB"}},35:function(e,t,r){e.exports={wrapper:"Header_wrapper__2BafV",logo:"Header_logo__2-1kw",logo__text:"Header_logo__text__3gpOp",burger_menu:"Header_burger_menu__3aPEf",open:"Header_open__o_X3Z",menu_closed:"Header_menu_closed__2sLWv",menu_open:"Header_menu_open__1fM9d"}},40:function(e,t,r){e.exports={login__block:"AuthComponent_login__block__3ElpX",login__form:"AuthComponent_login__form__3nhBx",login:"AuthComponent_login__2QJvm",btn__logout:"AuthComponent_btn__logout__mgB8v"}},41:function(e,t,r){e.exports={formError:"formControls_formError__2R1WC",rememberMe:"formControls_rememberMe__91V_p",fieldControl:"formControls_fieldControl__1DfjU"}},42:function(e,t,r){e.exports={selectedPage:"Paginator_selectedPage__2RV8R",numberPage:"Paginator_numberPage__3FpNz",wrapperPage:"Paginator_wrapperPage__38qzO",wrapperPrev:"Paginator_wrapperPrev__11reI",portion:"Paginator_portion__2Y7Bx"}},43:function(e,t,r){e.exports={profile__img:"ProfileInfo_profile__img__1YHz5",profile__wrapper:"ProfileInfo_profile__wrapper__1lM38",profile__info:"ProfileInfo_profile__info___2-E8",about__user:"ProfileInfo_about__user__2PAIS",userName:"ProfileInfo_userName__2xcoE"}},44:function(e,t,r){e.exports={profile__img:"ProfileInfo_profile__img__1kb69",profile__wrapper:"ProfileInfo_profile__wrapper__28OfH",profile__info:"ProfileInfo_profile__info__JgXxF",about__user:"ProfileInfo_about__user__Oewuv",userName:"ProfileInfo_userName__2LGdG"}},52:function(e,t,r){e.exports={header__wrapper:"Header_header__wrapper__3sQw5",header:"Header_header__iukPu",logo:"Header_logo__2wTjx",logo__text:"Header_logo__text__1busa",wrapper_auth:"Header_wrapper_auth__3vH4h"}},53:function(e,t,r){e.exports={wrapper:"Posts_wrapper__36xHA",post:"Posts_post__3rJVf",avatar:"Posts_avatar__3v00Z",text:"Posts_text__14GVy",wrapperTextPost:"Posts_wrapperTextPost__3TJSQ",deletePost:"Posts_deletePost__2IiFD",deleteBtn:"Posts_deleteBtn__2FHy5"}},54:function(e,t,r){e.exports={wrapperAddInf:"AdditionalInformation_wrapperAddInf__2Pxtu",wrapperContacts:"AdditionalInformation_wrapperContacts__3W7rl",wrapperContact:"AdditionalInformation_wrapperContact__20NyK",editModeActive:"AdditionalInformation_editModeActive__236VF",wrapperMode:"AdditionalInformation_wrapperMode__3MffG"}},55:function(e,t,r){e.exports={wrapper:"Posts_wrapper__1zbhF",post:"Posts_post__JPKxn",avatar:"Posts_avatar__1jE8h",text:"Posts_text__9cxFw",wrapperTextPost:"Posts_wrapperTextPost__2oMoB",deletePost:"Posts_deletePost__3OZIw",deleteBtn:"Posts_deleteBtn__Y0YXu"}},66:function(e,t,r){e.exports={wrapperContact:"AdditionalInformation_wrapperContact__nK9nr",wrapperAddInf:"AdditionalInformation_wrapperAddInf__eoDdX",wrapperContacts:"AdditionalInformation_wrapperContacts__2Ai7B",editModeActive:"AdditionalInformation_editModeActive__38PTd"}},82:function(e,t,r){e.exports={wrapper:"SettingComponent_wrapper__2kqnP",wrapperFields:"SettingComponent_wrapperFields__3kkOg"}},83:function(e,t,r){e.exports={wrapper_dev:"Messages_wrapper_dev__2wFTF",dev:"Messages_dev__2J0xi",wrapper:"Messages_wrapper__2ekq6"}},84:function(e,t,r){e.exports={wrapper:"Settings_wrapper__29D5y",wrapperFields:"Settings_wrapperFields__3OhkQ"}},85:function(e,t,r){e.exports={wrapper_app:"Mobile_wrapper_app__1fJMq",header:"Mobile_header__25GaK",content:"Mobile_content__QxTsA"}}},[[185,1,2]]]);
//# sourceMappingURL=main.056627f3.chunk.js.map