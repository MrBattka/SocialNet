(this["webpackJsonpfirst-react"]=this["webpackJsonpfirst-react"]||[]).push([[0],{10:function(e,t,a){e.exports={DialogItem__link:"Messages_DialogItem__link__375Kj",wrapper__messages:"Messages_wrapper__messages__3wpWW",stick:"Messages_stick__LngQ1",title:"Messages_title__3qInT",dialogs:"Messages_dialogs__3qFZt",dialog:"Messages_dialog__3sjgR",flexbox:"Messages_flexbox__3NCYH",wrapper__messanger:"Messages_wrapper__messanger__1Wboq",message:"Messages_message__2zDQy",textMessage:"Messages_textMessage__2uaSf",textarea:"Messages_textarea__2lLX2",btn:"Messages_btn__3DTSB",btnSend:"Messages_btnSend__2ji_v",button:"Messages_button__I4nXq"}},125:function(e,t,a){e.exports=a.p+"static/media/preloader.ef886190.svg"},126:function(e,t,a){e.exports={loader:"Preloader_loader__aA5wi"}},129:function(e,t,a){e.exports={aboutMe__editor:"ProfileStatus_aboutMe__editor__1BhQl"}},130:function(e,t,a){e.exports=a.p+"static/media/logout.6517ee94.svg"},131:function(e,t,a){},159:function(e,t,a){e.exports=a(294)},16:function(e,t,a){e.exports={wrapper:"Users_wrapper__me3Re",users:"Users_users__34yhM",btn__wrapper:"Users_btn__wrapper__3n4D-",btn__unfollow:"Users_btn__unfollow__14Z8o",btn__follow:"Users_btn__follow__yMUfQ",btn__follow__click:"Users_btn__follow__click__1zRZt",wrapper__avatar:"Users_wrapper__avatar__28eI8",wrapper__info:"Users_wrapper__info__SEIFs",avatar:"Users_avatar__2b-dr",nickName:"Users_nickName__1wKLu",status:"Users_status__3yRiB",location:"Users_location__2Tc5o",selectedPage:"Users_selectedPage__2ESJ6",numberPage:"Users_numberPage__NkMil",userName__link:"Users_userName__link__3jYpR"}},160:function(e,t,a){},17:function(e,t,a){e.exports={nav:"Nav_nav__1_JSp",settings:"Nav_settings__1K9ZG",line:"Nav_line__1F-rl",link:"Nav_link__2pFvk",active:"Nav_active__33sVg"}},21:function(e,t,a){e.exports={wrapper:"MyPost_wrapper__2I8HV",textarea:"MyPost_textarea__3Rgef",btn__wrapper:"MyPost_btn__wrapper__3UdOx",btn:"MyPost_btn__1njIl"}},245:function(e,t,a){},29:function(e,t,a){e.exports={login__block:"AuthComponent_login__block__3ElpX",login__form:"AuthComponent_login__form__3nhBx",login:"AuthComponent_login__2QJvm",btn__logout:"AuthComponent_btn__logout__mgB8v"}},294:function(e,t,a){"use strict";a.r(t);a(160);var n=a(9),r=a(5),s=a(27),o=a(120).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"f875b6a1-5fef-48ce-a963-4e6042f223a9"}}),l=function(e,t){return o.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},i=function(e){return o.post("follow/".concat(e.id)).then((function(e){return e.data}))},c=function(e){return o.delete("follow/".concat(e.id)).then((function(e){return e.data}))},u=function(e){return o.get("profile/".concat(e)).then((function(e){return e.data}))},m=function(e){return o.get("profile/status/".concat(e)).then((function(e){return e.data}))},_=function(e){return o.put("profile/status",{status:e}).then((function(e){return e.data}))},f=function(){return o.get("auth/me").then((function(e){return e.data}))},d=function(e,t,a){return o.post("auth/login",{email:e,password:t,rememberMe:a}).then((function(e){return e.data}))},p=function(){return o.delete("auth/login").then((function(e){return e.data}))},g={userId:null,email:null,login:null,rememberMe:!1,isAuth:!1},E=function(){return function(e){return f().then((function(t){if(0===t.resultCode){var a=t.data,n=a.id,r=a.email,s=a.login;e(function(e,t,a,n){return{type:"SET_AUTH_USER_DATA",payload:{userId:e,email:t,login:a,isAuth:n}}}(n,r,s,!0))}}))}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_USER_DATA":return Object(r.a)(Object(r.a)(Object(r.a)({},e),t.payload),{},{isAuth:!0});case"OUT_AUTH_USER_DATA":return Object(r.a)(Object(r.a)(Object(r.a)({},e),t.payload),{},{isAuth:!1});default:return e}},h=a(39),v={dialogs:[{id:1,name:"Nick 1"},{id:2,name:"Nick 2"},{id:3,name:"Nick 3"},{id:4,name:"Nick 4"},{id:5,name:"Nick 5"}],messages:[{message:"Hi, world"}]};window.initialState=v;var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var a=t.newMessageBody;return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(h.a)(e.messages),[{id:1,message:a}])});default:return e}},N={posts:[],newPostText:"",profile:null,isFetching:!0,status:""},S=function(e){return{type:"SET_STATUS",status:e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var a=t.newPostText;return Object(r.a)(Object(r.a)({},e),{},{posts:[].concat(Object(h.a)(e.posts),[{id:1,message:a}])});case"SET_USER_PROFILE":return Object(r.a)(Object(r.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(r.a)(Object(r.a)({},e),{},{status:t.status});default:return e}},O={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},j=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},M=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},A=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(r.a)(Object(r.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(r.a)(Object(r.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(r.a)(Object(r.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(r.a)(Object(r.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(r.a)(Object(r.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(r.a)(Object(r.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(r.a)(Object(r.a)({},e),{},{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(r.a)(Object(r.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(r.a)(Object(r.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(h.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},U=a(122),T=a(119),k={initialized:!1},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED__ACCESS":return Object(r.a)(Object(r.a)({},e),{},{initialized:!0});default:return e}},y=Object(n.c)({profilePage:w,dialogsPage:P,usersPage:I,auth:b,form:T.a,app:x}),C=Object(n.e)(y,Object(n.a)(U.a));window.store=C;var L=C,F=(a(245),a(0)),R=a.n(F),G=a(12),D=a(17),B=a.n(D),z=a(8);var H=Object(z.b)((function(e){return{userId:e.usersPage.profile}}))((function(e){return R.a.createElement("nav",{className:B.a.nav},R.a.createElement("div",{className:B.a.link},R.a.createElement(G.b,{className:function(e){return e.isActive?B.a.active:B.a.item},to:"/profile"},"Profile")),R.a.createElement("div",{className:B.a.link},R.a.createElement(G.b,{className:function(e){return e.isActive?B.a.active:B.a.item},to:"/messages"},"Messages")),R.a.createElement("div",{className:B.a.link},R.a.createElement(G.b,{className:function(e){return e.isActive?B.a.active:B.a.item},to:"/users"},"Users")),R.a.createElement("div",{className:B.a.link},R.a.createElement("a",{className:B.a.item,href:"#"},"Music")),R.a.createElement("div",{className:B.a.line}),R.a.createElement("div",{className:B.a.link},R.a.createElement("a",{className:B.a.settings,href:"#"},"Settings")))})),W=a(4),q=function(e){return Object(z.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(t){return t.isAuth?R.a.createElement(e,t):R.a.createElement(W.a,{replace:!0,to:"/login"})}))},Z=a(10),J=a.n(Z),Q=function(e){var t="/messages/"+e.id;return R.a.createElement("div",{className:J.a.dialog+" "+J.a.active},R.a.createElement(G.b,{className:J.a.DialogItem__link,to:t},e.name))},Y=function(e){return R.a.createElement("div",{className:J.a.message},e.message)},K=a(117),V=a(118),X=function(e){if(!e)return"Field is required"},$=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},ee=a(85),te=a(51),ae=a.n(te),ne=["input","meta"],re=["input","meta"],se=function(e){var t=e.input,a=e.meta,n=Object(ee.a)(e,ne),r=a.touched&&a.error;return R.a.createElement("div",{className:ae.a.formControl+" "+(r?ae.a.error:"")},R.a.createElement("div",null,R.a.createElement("textarea",Object.assign({},t,n))),r&&R.a.createElement("span",null,a.error))},oe=function(e){var t=e.input,a=e.meta,n=Object(ee.a)(e,re),r=a.touched&&a.error;return R.a.createElement("div",{className:ae.a.formControl+" "+(r?ae.a.error:"")},R.a.createElement("div",null,R.a.createElement("input",Object.assign({},t,n))),r&&R.a.createElement("span",null,a.error))},le=$(100),ie=Object(V.a)({form:"dilogAddMessageForm"})((function(e){return R.a.createElement("div",{className:J.a.textMessage},R.a.createElement("form",{onSubmit:e.handleSubmit},R.a.createElement("div",null,R.a.createElement(K.a,{className:J.a.textarea,component:se,name:"newMessageBody",placeholder:"Enter your message",autoFocus:!0,validate:[X,le]})),R.a.createElement("div",{className:J.a.btn},R.a.createElement("div",{className:J.a.btnSend},R.a.createElement("button",{className:J.a.button},"Send")))))})),ce=function(e){var t=e.dialogs.map((function(e){return R.a.createElement(Q,{name:e.name,key:e.id,id:e.id})})),a=e.messages.map((function(e){return R.a.createElement(Y,{message:e.message,key:e.id})}));return R.a.createElement("div",{className:J.a.wrapper__messages},R.a.createElement("h2",{className:J.a.title},"Dialogs"),R.a.createElement("div",{className:J.a.dialogs},t),R.a.createElement("span",{className:J.a.stick}),R.a.createElement("div",{className:J.a.flexbox},R.a.createElement("div",{className:J.a.wrapper__messanger},R.a.createElement("div",{className:J.a.messanger},a))),R.a.createElement(ie,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}}))},ue=Object(n.d)(Object(z.b)((function(e){return{dialogs:e.dialogsPage.dialogs,messages:e.dialogsPage.messages,newMessageText:e.dialogsPage.newMessageText}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:"SEND-MESSAGE",newMessageBody:e}}(t))}}})),q)(ce),me=a(16),_e=a.n(me),fe=a(38),de=a.n(fe),pe=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),a=[],n=1;n<=t&&!(n>20);n++)a.push(n);return R.a.createElement("div",null,R.a.createElement("a",{name:"top"}),e.users.map((function(t){return R.a.createElement("div",{className:_e.a.wrapper,key:t.id},R.a.createElement("div",{className:_e.a.wrapper__avatar},R.a.createElement("div",null,R.a.createElement(G.b,{to:"/profile/"+t.id},R.a.createElement("img",{className:_e.a.avatar,src:null!=t.photos.small?t.photos.small:de.a}))),R.a.createElement("div",{className:_e.a.btn__wrapper},t.followed?R.a.createElement("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),className:_e.a.btn__unfollow,onClick:function(){e.unfollow(t)}},"Unfollow"):R.a.createElement("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),className:_e.a.btn__follow,onClick:function(){e.follow(t)}},"Follow"))),R.a.createElement("div",{className:_e.a.wrapper__info},R.a.createElement("div",null,R.a.createElement("div",{className:_e.a.nickName},R.a.createElement(G.b,{to:"/profile/"+t.id,className:_e.a.userName__link},t.name)),R.a.createElement("div",{className:_e.a.status},t.status)),R.a.createElement("div",{className:_e.a.location},R.a.createElement("div",null,"USA,"),R.a.createElement("div",null,"New York"))))})),R.a.createElement("div",{className:_e.a.numberPage},a.map((function(t){return R.a.createElement("div",{onClick:function(a){e.onPageChanged(t)},key:t.id},R.a.createElement("button",{className:e.currentPage===t?_e.a.selectedPage:""},R.a.createElement("a",{href:"#top"},t)))}))))},ge=a(125),Ee=a.n(ge),be=a(126),he=a.n(be),ve=function(e){return R.a.createElement("div",{className:he.a.loader},R.a.createElement("img",{src:Ee.a}))},Pe=function(e){return e.usersPage.users},Ne=function(e){return e.usersPage.pageSize},Se=function(e){return e.usersPage.totalUsersCount},we=function(e){return e.usersPage.currentPage},Oe=function(e){return e.usersPage.isFetching},je=function(e){return e.usersPage.followingInProgress},Me=Object(z.b)((function(e){return{users:Pe(e),pageSize:Ne(e),totalUsersCount:Se(e),currentPage:we(e),isFetching:Oe(e),followingInProgress:je(e)}}),{setCurrentPage:j,toggleFollowingProgress:A,requestGetUsers:function(e,t){return function(a){a(M(!0)),a(j(e)),l(e,t).then((function(e){a(M(!1)),a({type:"SET_USERS",users:e.items}),a({type:"SET_TOTAL_USERS_COUNT",count:e.totalCount})}))}},follow:function(e){return function(t){t(A(!0,e.id)),i(e).then((function(a){0===a.resultCode&&t(function(e){return{type:"FOLLOW",userId:e}}(e.id)),t(A(!1,e.id))}))}},unfollow:function(e){return function(t){t(A(!0,e.id)),c(e).then((function(a){0===a.resultCode&&t(function(e){return{type:"UNFOLLOW",userId:e}}(e.id)),t(A(!1,e.id))}))}}})((function(e){Object(F.useEffect)((function(){e.requestGetUsers(e.currentPage,e.pageSize)}),[]);return R.a.createElement(R.a.Fragment,null,R.a.createElement("span",{className:_e.a.users},"Users:"),e.isFetching?R.a.createElement(ve,null):R.a.createElement(pe,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,users:e.users,unfollow:e.unfollow,follow:e.follow,onPageChanged:function(t){e.requestGetUsers(t,e.pageSize)},currentPage:e.currentPage,followingInProgress:e.followingInProgress}))})),Ae=a(84),Ie=a.n(Ae),Ue=a(41),Te=a.n(Ue),ke=function(){return R.a.createElement("div",null,"'Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugiat deleniti ipsam veritatis.'")},xe=a(127),ye=a(128),Ce=a(133),Le=a(132),Fe=a(129),Re=a.n(Fe),Ge=function(e){Object(Ce.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(xe.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).updateStatusEnter=R.a.createRef(),e.state={editMode:!1,status:e.props.status},e.activateEditMode=function(){e.setState({editMode:!0})},e.deactivateEditeMode=function(){e.setState({editMode:!1}),e.state.status?e.props.updateProfileStatus(e.state.status):e.props.updateProfileStatus("\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441")},e.deactivateEditeModeOnBlur=function(){return e.setState({editMode:!1}),e.props.status},e.clickButtonEnten=function(){e.updateStatusEnter.current.addEventListener("keydown",(function(t){13===t.keyCode&&(t.preventDefault(),e.deactivateEditeMode())}),{once:!0})},e.onStatusChange=function(t){e.clickButtonEnten(),e.setState({status:t.currentTarget.value})},e}return Object(ye.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return R.a.createElement("div",null,!this.state.editMode&&R.a.createElement("div",null,R.a.createElement("span",{className:Re.a.aboutMe__editor,onClick:this.activateEditMode},this.props.status?this.props.status:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441")),this.state.editMode&&R.a.createElement("div",null,R.a.createElement("input",{ref:this.updateStatusEnter,onChange:this.onStatusChange,autoFocus:!0,onBlur:this.deactivateEditeModeOnBlur,defaultValue:this.props.status,maxLength:300,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441",type:"text"}),R.a.createElement("div",null,R.a.createElement("button",{onClick:this.deactivateEditeMode,onMouseDown:this.deactivateEditeMode,type:"submit"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}}]),a}(R.a.Component);var De=function(e){return e.profile?R.a.createElement("div",{className:Te.a.profile__wrapper},R.a.createElement("div",null,R.a.createElement("img",{className:Te.a.profile__img,src:null!=e.profile.photos.large?e.profile.photos.large:de.a})),R.a.createElement("div",{className:Te.a.profile__info},R.a.createElement("div",{className:Te.a.userName},e.profile.fullName),R.a.createElement("div",{className:Te.a.about__user},null!=R.a.createElement(Ge,null)?R.a.createElement(Ge,{profile:e.profile,status:e.status,updateProfileStatus:e.updateProfileStatus}):R.a.createElement(ke,null)))):R.a.createElement(ve,null)},Be=a(21),ze=a.n(Be),He=a(66),We=a.n(He);var qe=function(e){return R.a.createElement("div",null,R.a.createElement("div",{className:We.a.wrapper},R.a.createElement("div",{className:We.a.avatar},R.a.createElement("img",{src:null!=e.profile.photos.small?e.profile.photos.small:de.a})),R.a.createElement("div",{className:We.a.text},e.post)))},Ze=$(10),Je=Object(V.a)({form:"addMyPostForm"})((function(e){return R.a.createElement("div",null,R.a.createElement("form",{onSubmit:e.handleSubmit},R.a.createElement("div",{className:ze.a.textarea__wrapper},R.a.createElement(K.a,{component:se,name:"newPostText",className:ze.a.textarea,validate:[X,Ze],placeholder:"Post message"})),R.a.createElement("div",{className:ze.a.btn__wrapper},R.a.createElement("button",{className:ze.a.btn},"Post"),R.a.createElement("button",{className:ze.a.btn},"Remove"))))}));var Qe=function(e){var t=e.posts.map((function(t){return R.a.createElement(qe,{post:t.message,profile:e.profile,key:t.profile})}));return R.a.createElement("div",{className:ze.a.wrapper},R.a.createElement(Je,{onSubmit:function(t){e.addPost(t.newPostText)},addPost:e.addPost}),R.a.createElement("h2",null,"Posts:"),R.a.createElement("div",{className:ze.a.Posts},e.isFetching?t:R.a.createElement(ve,null)))},Ye=Object(z.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText,profile:e.profilePage.profile,isFetching:e.profilePage.isFetching}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",newPostText:e}}(t))}}}))(Qe),Ke=function(e){return R.a.createElement("div",{className:Ie.a.content},R.a.createElement("div",{className:Ie.a.profile__wrapper},R.a.createElement(De,{profile:e.profile,status:e.status,updateProfileStatus:e.updateProfileStatus}),R.a.createElement(Ye,{profile:e.profile})))},Ve=Object(n.d)(Object(z.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getProfile:function(e){return function(t){u(e).then((function(e){t({type:"SET_USER_PROFILE",profile:e})}))}},getProfileStatus:function(e){return function(t){m(e).then((function(e){t(S(e))}))}},updateProfileStatus:function(e){return function(t){_(e).then((function(a){0===a.resultCode&&t(S(e))}))}}}),q)((function(e){var t=Object(W.h)().userId;return t||(t=e.authUserId),Object(F.useEffect)((function(){e.getProfile(t),e.getProfileStatus(t)}),[]),R.a.createElement(Ke,Object.assign({},e,{profile:e.profile,status:e.status,updateProfileStatus:e.updateProfileStatus}))})),Xe=a(52),$e=a.n(Xe),et=a(29),tt=a.n(et),at=a(130),nt=a.n(at),rt=a(131),st=a.n(rt),ot=function(){return R.a.createElement("div",{className:st.a.logout__img},R.a.createElement("img",{src:nt.a}))},lt=Object(V.a)({form:"logout"})((function(e){return R.a.createElement("div",{className:tt.a.login__block},R.a.createElement("form",{className:tt.a.login__form,onSubmit:e.handleSubmit},R.a.createElement("p",{className:tt.a.login}," ",e.isAuth?e.login:R.a.createElement(G.b,{to:"/login"},"Login")," ",e.isAuth?R.a.createElement("button",{className:tt.a.btn__logout},R.a.createElement(ot,null)):"")))})),it=Object(z.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(e){p().then((function(t){var a;0===t.resultCode&&e({type:"OUT_AUTH_USER_DATA",payload:{userId:null,email:null,login:null,isAuth:a}})}))}}})((function(e){return R.a.createElement("div",{className:tt.a.login__block},R.a.createElement(lt,Object.assign({},e,{onSubmit:function(){e.logout()},isAuth:e.isAuth,login:e.login})))}));var ct=function(e){return R.a.createElement("header",{className:$e.a.header__wrapper},R.a.createElement("div",{className:$e.a.header},R.a.createElement("div",{className:$e.a.logo},R.a.createElement("p",null,"Social \xb7"),R.a.createElement("p",{className:$e.a.logo__text},"\xb7 NET")),R.a.createElement(it,null)))},ut=Object(z.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}))((function(e){return R.a.createElement(ct,e)})),mt=a(30),_t=a.n(mt),ft=Object(V.a)({form:"login"})((function(e){return R.a.createElement("div",{className:e.error?_t.a.formSummaryError:_t.a.form},R.a.createElement("form",{onSubmit:e.handleSubmit},R.a.createElement("div",null,R.a.createElement(K.a,{placeholder:"Email",name:"email",component:oe,validate:[X]})),R.a.createElement("div",null,R.a.createElement(K.a,{placeholder:"Password",name:"password",component:oe,validate:[X]})),R.a.createElement("div",{className:_t.a.checkbox},R.a.createElement(K.a,{type:"checkbox",name:"rememberMe",component:oe})," ",R.a.createElement("span",null," Remember Me ")),e.error&&R.a.createElement("div",null," ",e.error," "),R.a.createElement("div",null,R.a.createElement("button",null,"Sign In"))))})),dt=Object(z.b)(null,{login:function(e,t,a,n){return function(r){d(e,t,a,n).then((function(e){if(0===e.resultCode)r(E());else{var t=e.messages.length>0?e.messages[0]:"Some Error";r(Object(s.a)("login",{_error:t}))}}))}}})((function(e){if(e.isAuth)return R.a.createElement(W.a,{replace:!0,to:"/profile"});return R.a.createElement("div",{className:_t.a.wrapperLoginPage},R.a.createElement("div",{className:_t.a.titleLogin},R.a.createElement("p",null,"LOGIN")),R.a.createElement("div",null,R.a.createElement(ft,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})))})),pt=Object(z.b)((function(e){return{isAuth:e.auth.isAuth,isFetching:e.usersPage.isFetching,profile:e.profilePage.profile}}))(dt),gt=Object(z.b)((function(e){return{initialize:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(E());Promise.all([t]).then((function(){e({type:"INITIALIZED__ACCESS"})}))}}})((function(e){return Object(F.useEffect)((function(){e.initializeApp()}),[]),!1===e.initialize?R.a.createElement(ve,null):R.a.createElement(R.a.Fragment,null,R.a.createElement("div",{className:"app-wrapper"},R.a.createElement(ut,null),R.a.createElement(H,null),R.a.createElement("div",{className:"app-wrapper-content"},R.a.createElement(W.d,null,R.a.createElement(W.b,{path:"/",element:R.a.createElement(Ve,null)}),R.a.createElement(W.b,{path:"/profile",element:R.a.createElement(Ve,null)},R.a.createElement(W.b,{path:":userId",element:R.a.createElement(Ve,null)})),R.a.createElement(W.b,{path:"/messages/*",element:R.a.createElement(ue,null)}),R.a.createElement(W.b,{path:"/users",element:R.a.createElement(Me,null)}),R.a.createElement(W.b,{path:"/login",element:R.a.createElement(pt,null)})))))})),Et=a(62);a.n(Et).a.render(R.a.createElement(G.a,null,R.a.createElement(z.a,{store:L},R.a.createElement(gt,null))),document.getElementById("root"))},30:function(e,t,a){e.exports={wrapperLoginPage:"LoginPage_wrapperLoginPage__1_nDD",titleLogin:"LoginPage_titleLogin__33cfj",formSummaryError:"LoginPage_formSummaryError__1d6MP",checkbox:"LoginPage_checkbox__2ZhWW",form:"LoginPage_form__fQVBs"}},38:function(e,t,a){e.exports=a.p+"static/media/user.8c62dd08.jpg"},41:function(e,t,a){e.exports={profile__img:"ProfileInfo_profile__img__1FqeS",profile__wrapper:"ProfileInfo_profile__wrapper__ryhAY",profile__info:"ProfileInfo_profile__info__PlW92",about__user:"ProfileInfo_about__user__2g9SG",userName:"ProfileInfo_userName__3gBbn"}},51:function(e,t,a){e.exports={formControl:"formControls_formControl__2CG8W",error:"formControls_error__33HPO"}},52:function(e,t,a){e.exports={header__wrapper:"Header_header__wrapper__1O_TU",header:"Header_header__iLGU8",logo:"Header_logo__2j3ml",logo__text:"Header_logo__text__2uBvm"}},66:function(e,t,a){e.exports={wrapper:"Posts_wrapper__3qGWR",avatar:"Posts_avatar__3MPfR",text:"Posts_text__3nSJk"}},84:function(e,t,a){}},[[159,1,2]]]);
//# sourceMappingURL=main.89e73986.chunk.js.map