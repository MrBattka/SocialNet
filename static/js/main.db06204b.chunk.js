/*! For license information please see main.db06204b.chunk.js.LICENSE.txt */
(this["webpackJsonpfirst-react"]=this["webpackJsonpfirst-react"]||[]).push([[0],{11:function(e,t,r){e.exports={DialogItem__link:"Messages_DialogItem__link__375Kj",wrapper__messages:"Messages_wrapper__messages__3wpWW",stick:"Messages_stick__LngQ1",title:"Messages_title__3qInT",dialogs:"Messages_dialogs__3qFZt",dialog:"Messages_dialog__3sjgR",flexbox:"Messages_flexbox__3NCYH",wrapper__messanger:"Messages_wrapper__messanger__1Wboq",message:"Messages_message__2zDQy",textMessage:"Messages_textMessage__2uaSf",textarea:"Messages_textarea__2lLX2",btn:"Messages_btn__3DTSB",btnSend:"Messages_btnSend__2ji_v",button:"Messages_button__I4nXq"}},128:function(e,t,r){e.exports=r.p+"static/media/preloader.ef886190.svg"},129:function(e,t,r){e.exports={loader:"Preloader_loader__aA5wi"}},130:function(e,t,r){e.exports=r.p+"static/media/logout.6517ee94.svg"},131:function(e,t,r){},135:function(e,t,r){e.exports={aboutMe__editor:"ProfileStatus_aboutMe__editor__1BhQl"}},14:function(e,t,r){e.exports={nav:"Nav_nav__1_JSp",settings:"Nav_settings__1K9ZG",line:"Nav_line__1F-rl",link:"Nav_link__2pFvk",active:"Nav_active__33sVg"}},164:function(e,t,r){e.exports=r(302)},172:function(e,t,r){},19:function(e,t,r){e.exports={wrapper:"Users_wrapper__me3Re",users:"Users_users__34yhM",btn__wrapper:"Users_btn__wrapper__3n4D-",btn__follow:"Users_btn__follow__yMUfQ",btn__unfollow:"Users_btn__unfollow__14Z8o",btn__follow__click:"Users_btn__follow__click__1zRZt",wrapper__avatar:"Users_wrapper__avatar__28eI8",wrapper__info:"Users_wrapper__info__SEIFs",avatar:"Users_avatar__2b-dr",nickName:"Users_nickName__1wKLu",status:"Users_status__3yRiB",location:"Users_location__2Tc5o",userName__link:"Users_userName__link__3jYpR"}},23:function(e,t,r){e.exports={wrapperLoginPage:"LoginPage_wrapperLoginPage__1_nDD",titleLogin:"LoginPage_titleLogin__33cfj",formSummaryError:"LoginPage_formSummaryError__1d6MP",form:"LoginPage_form__fQVBs",submit:"LoginPage_submit__3vppF",loginBtn:"LoginPage_loginBtn__3IjSc",error:"LoginPage_error__18S5h"}},28:function(e,t,r){e.exports=r.p+"static/media/user.8c62dd08.jpg"},29:function(e,t,r){e.exports={wrapper:"MyPost_wrapper__2I8HV",textarea:"MyPost_textarea__3Rgef",btn__wrapper:"MyPost_btn__wrapper__3UdOx",btn:"MyPost_btn__1njIl"}},300:function(e,t,r){},301:function(e,t,r){},302:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(66),i=r.n(o),c=r(7),s=r(5),l=r(13),u=(r(172),r(128)),f=r.n(u),p=r(129),m=r.n(p),d=function(e){return a.a.createElement("div",{className:m.a.loader},a.a.createElement("img",{src:f.a}))},h=r(54),g=r.n(h),_=r(33),v=r.n(_),E=r(125),y=r(130),w=r.n(y),b=r(131),P=r.n(b),O=function(){return a.a.createElement("div",{className:P.a.logout__img},a.a.createElement("img",{src:w.a}))},N=Object(E.a)({form:"logout"})((function(e){return a.a.createElement("div",{className:v.a.login__block},a.a.createElement("form",{className:v.a.login__form,onSubmit:e.handleSubmit},a.a.createElement("p",{className:v.a.login}," ",e.isAuth?e.login:a.a.createElement(l.b,{to:"/login"},"Login")," ",e.isAuth?a.a.createElement("button",{className:v.a.btn__logout},a.a.createElement(O,null)):"")))})),x=r(18),S=r(4),j=r(26),L=r(133).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"f875b6a1-5fef-48ce-a963-4e6042f223a9"}}),k={requestGetUsers:function(e,t){return L.get("users?page=".concat(e,"&count=").concat(t))},requestGetFriendUsers:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return L.get("users?page=".concat(e,"&count=").concat(t,"&friend=").concat(r))},follow:function(e){return L.post("follow/".concat(e.id))},unfollow:function(e){return L.delete("follow/".concat(e.id))},getUserProfile:function(e){return L.get("profile/".concat(e))},getProfileStatus:function(e){return L.get("profile/status/".concat(e))},updateProfileStatus:function(e){return L.put("profile/status",{status:e})}},U=function(){return L.get("auth/me")},I=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return L.post("auth/login",{email:e,password:t,rememberMe:r,captcha:n})},T=function(){return L.delete("auth/login")},C=function(){return L.get("security/get-captcha-url")};function A(){A=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(x){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new P(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return N()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=y(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),o}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var u={};function f(){}function p(){}function m(){}var d={};c(d,a,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(O([])));g&&g!==t&&r.call(g,a)&&(d=g);var _=m.prototype=f.prototype=Object.create(d);function v(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function y(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return p.prototype=m,c(_,"constructor",m),c(m,"constructor",p),p.displayName=c(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,i,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},v(E.prototype),c(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(_),c(_,i,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),b(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;b(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var F={userId:null,email:null,login:null,rememberMe:!1,isAuth:!1,captchaUrl:null},G=function(e,t,r,n){return{type:"SET_AUTH_USER_DATA",payload:{userId:e,email:t,login:r,isAuth:n}}},M=function(e){return{type:"GET_CAPTCHA_URL",payload:{captchaUrl:e}}},R=function(){return function(){var e=Object(x.a)(A().mark((function e(t){var r,n,a,o,i;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:0===(r=e.sent).data.resultCode&&(n=r.data.data,a=n.id,o=n.email,i=n.login,t(G(a,o,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_USER_DATA":case"GET_CAPTCHA_URL":return Object(S.a)(Object(S.a)({},e),t.payload);case"OUT_AUTH_USER_DATA":return Object(S.a)(Object(S.a)(Object(S.a)({},e),t.payload),{},{isAuth:!1});default:return e}},z=Object(c.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(x.a)(A().mark((function e(t){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:0===e.sent.data.resultCode&&t({type:"OUT_AUTH_USER_DATA",payload:{userId:null,email:null,login:null,isAuth:!1}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){return a.a.createElement("div",{className:v.a.login__block},a.a.createElement(N,Object.assign({},e,{onSubmit:function(){e.logout()},isAuth:e.isAuth,login:e.login})))})),B=function(){return a.a.createElement("header",{className:g.a.header__wrapper},a.a.createElement("div",{className:g.a.header},a.a.createElement("div",{className:g.a.logo},a.a.createElement("p",null,"Social \xb7"),a.a.createElement("p",{className:g.a.logo__text},"\xb7 NET")),a.a.createElement(z,null)))},q=Object(c.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}))((function(e){return a.a.createElement(B,e)})),H=function(e){if(!e)return"Field is required"},W=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},Y=r(88),J=r(124),V=r(34),Z=r.n(V),Q=["input","meta","child"],K=["input","meta","child"],X=function(e){var t=e.meta,r=t.touched,n=t.error,o=e.children,i=r&&n;return a.a.createElement("div",{className:Z.a.formControl+" "+(i?Z.a.error:"")},a.a.createElement("div",null,o),i&&a.a.createElement("span",{className:Z.a.formError},n))},$=function(e){13===e.keyCode&&e.preventDefault()},ee=function(e){var t=e.input,r=(e.meta,e.child,Object(Y.a)(e,Q));return a.a.createElement(X,e,a.a.createElement("textarea",Object.assign({onSubmit:$},t,r)))},te=function(e){var t=e.input,r=(e.meta,e.child,Object(Y.a)(e,K));return a.a.createElement(X,e,a.a.createElement("input",Object.assign({className:Z.a.inputWrapper},t,r,{autocomplete:"off",readonly:!0})))},re=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return a.a.createElement("div",{className:Z.a.fieldControl},a.a.createElement(J.a,Object.assign({placeholder:e,name:t,validate:r,component:n},o))," ",a.a.createElement("span",{className:Z.a.rememberMe},i))},ne=r(23),ae=r.n(ne),oe=Object(E.a)({form:"login"})((function(e){var t=e.handleSubmit,r=e.error,n=e.captchaUrl;return a.a.createElement("div",{className:r?ae.a.formSummaryError:ae.a.form},a.a.createElement("form",{onSubmit:t},re("Email","email",[H],te),re("Password","password",[H],te,{type:"password"}),re(null,"rememberMe",[],te,{type:"checkbox"},"Remember Me"),n&&a.a.createElement("img",{src:n}),n&&re("Symbols from image","captcha",[H],te,{}),a.a.createElement("div",{className:ae.a.submit},a.a.createElement("button",{className:ae.a.loginBtn},"Log In"),a.a.createElement("span",{className:ae.a.error},r&&a.a.createElement("div",null," ",r," ")))))})),ie=Object(c.b)(null,{login:function(e,t,r,n){return function(){var a=Object(x.a)(A().mark((function a(o){var i,c;return A().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I(e,t,r,n);case 2:0===(i=a.sent).data.resultCode?o(R()):(10===i.data.resultCode&&o(function(){var e=Object(x.a)(A().mark((function e(t){var r,n;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:r=e.sent,n=r.data.url,t(M(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c=i.data.messages.length>0?i.data.messages[0]:"Some Error",o(Object(j.a)("login",{_error:c})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){if(e.isAuth)return a.a.createElement(s.a,{replace:!0,to:"/profile"});return a.a.createElement("div",{className:ae.a.wrapperLoginPage},a.a.createElement("div",{className:ae.a.titleLogin},a.a.createElement("p",{className:ae.a.loginTitle},"LOGIN")),a.a.createElement("div",null,a.a.createElement(oe,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl})))})),ce=Object(c.b)((function(e){return{isAuth:e.auth.isAuth,isFetching:e.usersPage.isFetching,profile:e.profilePage.profile,captchaUrl:e.auth.captchaUrl}}))(ie),se=r(9),le=function(e){return Object(c.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(t){return t.isAuth?a.a.createElement(e,t):a.a.createElement(s.a,{replace:!0,to:"/login"})}))},ue=r(43),fe={dialogs:[{id:1,name:"Nick 1"},{id:2,name:"Nick 2"},{id:3,name:"Nick 3"},{id:4,name:"Nick 4"},{id:5,name:"Nick 5"}],messages:[]};window.initialState=fe;var pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var r=t.newMessageBody;return Object(S.a)(Object(S.a)({},e),{},{messages:[].concat(Object(ue.a)(e.messages),[{id:t.id,message:r}])});default:return e}},me=r(11),de=r.n(me),he=function(e){var t="/messages/"+e.id;return a.a.createElement("div",{className:de.a.dialog+" "+de.a.active},a.a.createElement(l.b,{className:de.a.DialogItem__link,to:t},e.name))},ge=function(e){return a.a.createElement("div",{className:de.a.message},e.message)},_e=W(100),ve=Object(E.a)({form:"dilogAddMessageForm"})((function(e){return a.a.createElement("div",{className:de.a.textMessage},a.a.createElement("form",{onSubmit:e.handleSubmit},a.a.createElement("div",null,a.a.createElement(J.a,{className:de.a.textarea,component:ee,name:"newMessageBody",placeholder:"Enter your message",autoFocus:!0,validate:[H,_e]})),a.a.createElement("div",{className:de.a.btn},a.a.createElement("div",{className:de.a.btnSend},a.a.createElement("button",{className:de.a.button},"Send")))))})),Ee=function(e){var t=e.dialogs.map((function(e){return a.a.createElement(he,{name:e.name,key:e.id,id:e.id})})),r=e.messages.map((function(e){return a.a.createElement(ge,{message:e.message,key:e.id,id:e.id})}));return a.a.createElement("div",{className:de.a.wrapper__messages},a.a.createElement("h2",{className:de.a.title},"Dialogs"),a.a.createElement("div",{className:de.a.dialogs},t),a.a.createElement("span",{className:de.a.stick}),a.a.createElement("div",{className:de.a.flexbox},a.a.createElement("div",{className:de.a.wrapper__messanger},a.a.createElement("div",{className:de.a.messanger},r))),a.a.createElement(ve,{onSubmit:function(t){t.newMessageBody&&(e.sendMessage(t.newMessageBody),t.newMessageBody="")}}))},ye=Object(se.d)(Object(c.b)((function(e){return{dialogs:e.dialogsPage.dialogs,messages:e.dialogsPage.messages,newMessageText:e.dialogsPage.newMessageText}}),(function(e){return{sendMessage:function(t,r){e(function(e,t){return{type:"SEND-MESSAGE",newMessageBody:e,id:t}}(t,r))}}})),le)(Ee),we=function(e,t,r,n){return e.map((function(e){return e[r]===t?Object(S.a)(Object(S.a)({},e),n):e}))};function be(){be=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(x){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new P(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return N()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=y(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),o}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var u={};function f(){}function p(){}function m(){}var d={};c(d,a,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(O([])));g&&g!==t&&r.call(g,a)&&(d=g);var _=m.prototype=f.prototype=Object.create(d);function v(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function y(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return p.prototype=m,c(_,"constructor",m),c(m,"constructor",p),p.displayName=c(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,i,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},v(E.prototype),c(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(_),c(_,i,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),b(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;b(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Pe={users:[],pageSize:20,totalUsersCount:0,currentPageUsers:1,currentPageFriends:1,isFetching:!0,followingInProgress:[null]},Oe=function(e){return{type:"FOLLOW",userId:e}},Ne=function(e){return{type:"UNFOLLOW",userId:e}},xe=function(e){return{type:"SET_USERS",users:e}},Se=function(e){return{type:"SET_CURRENT_PAGE_USERS",currentPageUsers:e}},je=function(e){return{type:"SET_CURRENT_PAGE_FRIENDS",currentPageFriends:e}},Le=function(e){return{type:"SET_TOTAL_USERS_COUNT",count:e}},ke=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},Ue=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},Ie=function(){var e=Object(x.a)(be().mark((function e(t,r,n,a){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Ue(!0,r.id)),e.next=3,n(r);case 3:0===e.sent.data.resultCode&&t(a(r.id)),t(Ue(!1,r.id));case 6:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),Te=function(e){return function(){var t=Object(x.a)(be().mark((function t(r){return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ie(r,e,k.follow.bind(k),Oe);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ce=function(e){return function(){var t=Object(x.a)(be().mark((function t(r){return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ie(r,e,k.unfollow.bind(k),Ne);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(S.a)(Object(S.a)({},e),{},{users:we(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(S.a)(Object(S.a)({},e),{},{users:we(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(S.a)(Object(S.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE_USERS":return Object(S.a)(Object(S.a)({},e),{},{currentPageUsers:t.currentPageUsers});case"SET_CURRENT_PAGE_FRIENDS":return Object(S.a)(Object(S.a)({},e),{},{currentPageFriends:t.currentPageFriends});case"SET_TOTAL_USERS_COUNT":return Object(S.a)(Object(S.a)({},e),{},{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(S.a)(Object(S.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(S.a)(Object(S.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(ue.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},Fe=r(138),Ge=function(e){return e.usersPage.users},Me=Object(Fe.a)(Ge,(function(e){return e.filter((function(e){return!0}))})),Re=function(e){return e.usersPage.pageSize},De=function(e){return e.usersPage.totalUsersCount},ze=function(e){return e.usersPage.currentPageUsers},Be=function(e){return e.usersPage.currentPageFriends},qe=function(e){return e.usersPage.isFetching},He=function(e){return e.usersPage.followingInProgress},We=r(10),Ye=r(35),Je=r.n(Ye),Ve=function(e){for(var t=e.totalUsersCount,r=e.pageSize,o=e.onPageChanged,i=e.currentPage,c=e.portionSize,s=void 0===c?15:c,l=Object(n.useState)(1),u=Object(We.a)(l,2),f=u[0],p=u[1],m=[],d=Math.ceil(t/r),h=1;h<=d;h++)m.push(h);Object(n.useEffect)((function(){p(Math.ceil(i/s))}),[i]);var g=(f-1)*s+1,_=f*s;return a.a.createElement("div",{className:Je.a.numberPage},a.a.createElement("div",{className:Je.a.wrapperPrev}," ",f>1&&a.a.createElement("button",{className:Je.a.portion,onClick:function(){p(f+1),o(i-15)}},a.a.createElement("a",{href:"#top"},"prev"))," "),m.filter((function(e){return e>=g&&e<=_})).map((function(e,t){return a.a.createElement("div",{onClick:function(){o(e)},className:Je.a.wrapperPage,key:t},a.a.createElement("button",{className:i===e?Je.a.selectedPage:""},a.a.createElement("a",{href:"#top"},e)))})),d>14&&a.a.createElement("button",{className:Je.a.portion,onClick:function(){p(f-1),o(i+15)}},a.a.createElement("a",{href:"#top"},"next")))},Ze=r(19),Qe=r.n(Ze),Ke=r(28),Xe=r.n(Ke),$e=function(e){return a.a.createElement("div",{className:Qe.a.wrapper},a.a.createElement("div",{className:Qe.a.wrapper__avatar},a.a.createElement("div",null,a.a.createElement(l.b,{to:"/profile/"+e.user.id},a.a.createElement("img",{className:Qe.a.avatar,src:null!=e.user.photos.small?e.user.photos.small:Xe.a}))),a.a.createElement("div",{className:Qe.a.btn__wrapper},e.user.followed?a.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),className:Qe.a.btn__unfollow,onClick:function(){e.unfollow(e.user)}},"Unfollow"):a.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),className:Qe.a.btn__follow,onClick:function(){e.follow(e.user)}},"Follow"))),a.a.createElement("div",{className:Qe.a.wrapper__info},a.a.createElement("div",null,a.a.createElement("div",{className:Qe.a.nickName},a.a.createElement(l.b,{to:"/profile/"+e.user.id,className:Qe.a.userName__link},e.user.name)),a.a.createElement("div",{className:Qe.a.status},e.user.status)),a.a.createElement("div",{className:Qe.a.location},a.a.createElement("div",null,"USA,"),a.a.createElement("div",null,"New York"))))},et=function(e){var t=e.users,r=e.followed,n=e.followingInProgress,o=e.follow,i=e.unfollow,c=e.onPageChanged,s=e.pageSize,l=e.totalUsersCount,u=e.currentPage;return a.a.createElement("div",null,t.map((function(e){return a.a.createElement($e,{user:e,key:e.id,followed:r,followingInProgress:n,unfollow:i,follow:o})})),a.a.createElement(Ve,{totalUsersCount:l,pageSize:s,currentPage:u,onPageChanged:c}))},tt=Object(c.b)((function(e){return{users:Ge(e),pageSize:Re(e),totalUsersCount:De(e),currentPage:Be(e),isFetching:qe(e),followingInProgress:He(e)}}),{setCurrentPageFriends:je,requestGetFriendUsers:function(e,t,r){return function(){var n=Object(x.a)(be().mark((function n(a){var o;return be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(ke(!0)),a(je(e)),n.next=4,k.requestGetFriendUsers(e,t,r);case 4:o=n.sent,a(ke(!1)),a(xe(o.data.items)),a(Le(o.data.totalCount));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},toggleFollowingProgress:Ue,follow:Te,unfollow:Ce})((function(e){var t=e.users,r=e.currentPage,o=e.pageSize,i=e.requestGetFriendUsers,c=e.follow,s=e.unfollow,l=e.isFetching,u=e.totalUsersCount,f=e.followingInProgress;Object(n.useEffect)((function(){i(r,o)}),[]);return a.a.createElement(a.a.Fragment,null,l?a.a.createElement(d,null):a.a.createElement(et,{totalUsersCount:u,pageSize:o,users:t,unfollow:s,follow:c,onPageChanged:function(e){i(e,o)},currentPage:r,followingInProgress:f}))})),rt=r(14),nt=r.n(rt),at=Object(c.b)((function(e){return{}}),{setCurrentPageFriends:je,setCurrentPageUsers:Se})((function(e){var t=e.setCurrentPageUsers,r=e.setCurrentPageFriends,n=function(e){e.preventDefault(),r(1),t(1)};return a.a.createElement("nav",{className:nt.a.nav},a.a.createElement("div",{className:nt.a.link},a.a.createElement(l.b,{className:function(e){return e.isActive?nt.a.active:nt.a.item},to:"/profile"},"Profile")),a.a.createElement("div",{className:nt.a.link},a.a.createElement(l.b,{className:function(e){return e.isActive?nt.a.active:nt.a.item},to:"/messages"},"Messages")),a.a.createElement("div",{className:nt.a.link,onClick:n},a.a.createElement(l.b,{className:function(e){return e.isActive?nt.a.active:nt.a.item},to:"/users"},"Users")),a.a.createElement("div",{className:nt.a.link,onClick:n},a.a.createElement(l.b,{className:function(e){return e.isActive?nt.a.active:nt.a.item},to:"/friends"},"My Friend")),a.a.createElement("div",{className:nt.a.line}),a.a.createElement("div",{className:nt.a.link},a.a.createElement("a",{className:nt.a.settings,href:"#"},"Settings")))}));function ot(){ot=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(x){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new P(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return N()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=y(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),o}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var u={};function f(){}function p(){}function m(){}var d={};c(d,a,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(O([])));g&&g!==t&&r.call(g,a)&&(d=g);var _=m.prototype=f.prototype=Object.create(d);function v(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function y(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return p.prototype=m,c(_,"constructor",m),c(m,"constructor",p),p.displayName=c(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,i,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},v(E.prototype),c(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(_),c(_,i,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),b(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;b(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var it={posts:[],id:0,newPostText:"",profile:null,isFetching:!0,status:"",urlProfilePhoto:null},ct=function(e){return{type:"SET_STATUS",status:e}},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var r=t.newPostText;return Object(S.a)(Object(S.a)({},e),{},{posts:[].concat(Object(ue.a)(e.posts),[{id:t.id,message:r}])});case"SET_USER_PROFILE":return Object(S.a)(Object(S.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(S.a)(Object(S.a)({},e),{},{status:t.status});case"SET_PHOTO_PROFILE":return Object(S.a)(Object(S.a)({},e),{},{urlProfilePhoto:t.urlProfilePhoto});default:return e}},lt=r(55),ut=r.n(lt),ft=function(e){return a.a.createElement("div",{className:ut.a.wrapperContact},a.a.createElement("p",null,a.a.createElement("b",null,e.contactTitle,":")," ",e.contactValue?e.contactValue:"-"))},pt=function(e){var t=Object(n.useState)(!1),r=Object(We.a)(t,2),o=r[0],i=r[1];return a.a.createElement("div",{className:ut.a.wrapperAddInf},a.a.createElement("div",null,a.a.createElement("p",null,a.a.createElement("b",null,"lookingForAJob:"),a.a.createElement("span",null,e.profile.lookingForAJob?"Yes":"No"))),e.profile.lookingForAJob&&a.a.createElement("div",null,a.a.createElement("p",null,a.a.createElement("b",null,"My profissional skill:"),a.a.createElement("span",null,e.profile.lookingForAJobDescription))),a.a.createElement("div",null,a.a.createElement("p",null,a.a.createElement("b",null,"Full name:"),a.a.createElement("span",null,e.profile.fullName))),a.a.createElement("div",{className:ut.a.wrapperContacts},a.a.createElement("b",null,"Contacts:"),a.a.createElement("span",{onClick:function(){i(!o)}},a.a.createElement("p",{className:o?ut.a.editModeActive:null},"\u1405")),o&&Object.keys(e.profile.contacts).map((function(t){return a.a.createElement(ft,{key:t,contactTitle:t,contactValue:e.profile.contacts[t]})}))))},mt=r(56),dt=r.n(mt),ht=function(e){return a.a.createElement("div",{className:dt.a.wrapper},e.posts.map((function(t,r){return a.a.createElement("ul",{key:r},a.a.createElement("li",null,a.a.createElement("div",{className:dt.a.post},a.a.createElement("div",{className:dt.a.avatar},a.a.createElement("img",{src:null!=e.profile.photos.small?e.profile.photos.small:Xe.a})),a.a.createElement("div",{className:dt.a.text},t.message))))})))},gt=r(29),_t=r.n(gt),vt=W(500),Et=Object(E.a)({form:"addMyPostForm"})((function(e){var t=Object(n.useState)(""),r=Object(We.a)(t,2),o=r[0],i=r[1],c=Object(n.useRef)();return a.a.createElement("div",null,a.a.createElement("form",{ref:c,onSubmit:e.handleSubmit},a.a.createElement("div",{className:_t.a.textarea__wrapper},a.a.createElement(J.a,{component:ee,name:"newPostText",className:_t.a.textarea,validate:[H,vt],placeholder:"Post message",value:o,onChange:function(e){return i(e.target.value)}})),a.a.createElement("div",{className:_t.a.btn__wrapper},a.a.createElement("button",{className:_t.a.btn,type:"submit"},"Post"))))})),yt=function(e){return a.a.createElement("div",{className:_t.a.wrapper},a.a.createElement(Et,{onSubmit:function(t){t.newPostText&&(e.addPost(t.newPostText,e.id),t.newPostText="")},addPost:e.addPost,newPostText:e.newPostText}),a.a.createElement("h2",null,"Posts:"),a.a.createElement("div",{className:_t.a.Posts},e.isFetching?a.a.createElement(ht,{posts:e.posts,id:e.id,deletePost:e.deletePost,profile:e.profile,idPost:e.idPost}):a.a.createElement(d,null)))},wt=Object(c.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText,profile:e.profilePage.profile,isFetching:e.profilePage.isFetching}}),(function(e){return{addPost:function(t,r){e(function(e,t){return{type:"ADD-POST",newPostText:e,id:t}}(t,r))}}}))(yt),bt=r(87),Pt=r.n(bt),Ot=r(36),Nt=r.n(Ot),xt=function(){return a.a.createElement("div",null,"'Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugiat deleniti ipsam veritatis.'")},St=r(135),jt=r.n(St),Lt=function(e){var t=a.a.createRef(),r=Object(n.useState)(!1),o=Object(We.a)(r,2),i=o[0],c=o[1],s=Object(n.useState)(e.status),l=Object(We.a)(s,2),u=l[0],f=l[1],p=function(){c(!1),e.status?e.updateProfileStatus(u):e.updateProfileStatus("\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441")};return Object(n.useEffect)((function(){u!==e.status&&f(e.status)}),[e.status]),a.a.createElement("div",null,!i&&a.a.createElement("div",null,a.a.createElement("span",{"data-testid":"status",className:jt.a.aboutMe__editor,onClick:function(){c(!0)}},e.status?e.status:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441")),i&&a.a.createElement("div",null,a.a.createElement("input",{"data-testid":"status-input",ref:t,onChange:function(e){t.current.addEventListener("keydown",(function(e){13===e.keyCode&&(e.preventDefault(),p())}),{once:!0}),f(e.currentTarget.value)},autoFocus:!0,onBlur:function(){return c(!1),e.status},defaultValue:u,maxLength:300,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441",type:"text"}),a.a.createElement("div",null,a.a.createElement("button",{"data-testid":"btn-status",onClick:p,onMouseDown:p,type:"submit"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))},kt=(r(300),function(e){var t=e.active,r=e.setEctive,o=e.setPhoto,i=e.children,c=e.profilePhotoLarge,s=Object(n.useState)(null),l=Object(We.a)(s,2),u=l[0],f=l[1];return a.a.createElement("div",{className:t?"modalWrapper active":"modalWrapper",onClick:function(){if(!c&&u){var e=URL.createObjectURL(u);o(e)}r(!t)}},a.a.createElement("div",{className:"closedBtn",onClick:function(){return r(!t)}},"x"),a.a.createElement("div",{className:t?"modalContent active":"modalContent",onClick:function(e){return e.stopPropagation()}},u&&a.a.createElement("img",{src:URL.createObjectURL(u)}),!u&&a.a.createElement("img",{src:i||Xe.a}),a.a.createElement("div",{className:"wrapperFileInput"},a.a.createElement("label",{htmlFor:"file",className:"labelFileInput"},"Loading image"),a.a.createElement("input",{type:"file",id:"file",className:"fileInput",name:"file",onChange:function(e){return f(e.target.files[0])}}))))}),Ut=function(e){var t,r,o=Object(n.useState)(!1),i=Object(We.a)(o,2),c=i[0],s=i[1],l=Object(n.useState)(null),u=Object(We.a)(l,2),f=u[0],p=u[1];return Object(n.useEffect)((function(){f&&e.updateProfilePhoto(f)})),e.profile?a.a.createElement("div",{className:Nt.a.profile__wrapper},a.a.createElement("div",{className:Nt.a.wrapper_img},a.a.createElement("img",{className:Nt.a.profile__img,src:null!==(t=null!==(r=e.profile.photos.large)&&void 0!==r?r:e.urlProfilePhoto)&&void 0!==t?t:Xe.a,onClick:function(){return s(!c)}})),a.a.createElement(kt,{active:c,setEctive:s,setPhoto:p,profilePhotoLarge:e.profile.photos.large,children:e.profile.photos.large}),a.a.createElement("div",{className:Nt.a.profile__info},a.a.createElement("div",{className:Nt.a.userName},e.profile.fullName),a.a.createElement("div",{className:Nt.a.about__user},null!=a.a.createElement(Lt,null)?a.a.createElement(Lt,{profile:e.profile,status:e.status,updateProfileStatus:e.updateProfileStatus}):a.a.createElement(xt,null)))):a.a.createElement(d,null)},It=function(e){return e.profile?a.a.createElement("div",{className:Pt.a.content},a.a.createElement("div",{className:Pt.a.profile__wrapper},a.a.createElement(Ut,{profile:e.profile,status:e.status,updateProfileStatus:e.updateProfileStatus,urlProfilePhoto:e.urlProfilePhoto,updateProfilePhoto:e.updateProfilePhoto}),a.a.createElement(pt,{profile:e.profile,lookingForAJob:e.lookingForAJob,lookingForAJobDescription:e.lookingForAJobDescription,fullName:e.fullName,contacts:e.contacts}),a.a.createElement(wt,{profile:e.profile}))):a.a.createElement(d,null)},Tt=Object(se.d)(Object(c.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.userId,isAuth:e.auth.isAuth,urlProfilePhoto:e.profilePage.urlProfilePhoto}}),{getProfile:function(e){return function(){var t=Object(x.a)(ot().mark((function t(r){var n;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.getUserProfile(e);case 2:n=t.sent,r({type:"SET_USER_PROFILE",profile:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getProfileStatus:function(e){return function(){var t=Object(x.a)(ot().mark((function t(r){var n;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.getProfileStatus(e);case 2:n=t.sent,r(ct(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateProfileStatus:function(e){return function(){var t=Object(x.a)(ot().mark((function t(r){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.updateProfileStatus(e);case 2:0===t.sent.data.resultCode&&r(ct(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateProfilePhoto:function(e){return{type:"SET_PHOTO_PROFILE",urlProfilePhoto:e}}}),le)((function(e){var t=Object(s.h)().userId;return Object(n.useEffect)((function(){t||(t=e.authUserId,e.getProfile(t),e.getProfileStatus(t)),e.getProfile(t),e.getProfileStatus(t)}),[t]),a.a.createElement(It,Object.assign({},e,{profile:e.profile,status:e.status,updateProfileStatus:e.updateProfileStatus}))})),Ct=function(e){return a.a.createElement("div",null,a.a.createElement("a",{name:"top"}),e.users.map((function(t){return a.a.createElement($e,{user:t,key:t.id,followed:e.followed,followingInProgress:e.followingInProgress,unfollow:e.unfollow,follow:e.follow})})),a.a.createElement(Ve,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged}))},At=Object(c.b)((function(e){return{users:Me(e),pageSize:Re(e),totalUsersCount:De(e),currentPage:ze(e),isFetching:qe(e),followingInProgress:He(e)}}),{setCurrentPageUsers:Se,toggleFollowingProgress:Ue,requestGetUsers:function(e,t){return function(){var r=Object(x.a)(be().mark((function r(n){var a;return be().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(ke(!0)),n(Se(e)),r.next=4,k.requestGetUsers(e,t);case 4:a=r.sent,n(ke(!1)),n(xe(a.data.items)),n(Le(a.data.totalCount));case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},follow:Te,unfollow:Ce})((function(e){Object(n.useEffect)((function(){e.requestGetUsers(e.currentPage,e.pageSize)}),[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:Qe.a.users},"Users:"),e.isFetching?a.a.createElement(d,null):a.a.createElement(Ct,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,users:e.users,unfollow:e.unfollow,follow:e.follow,onPageChanged:function(t){e.requestGetUsers(t,e.pageSize)},currentPage:e.currentPage,followingInProgress:e.followingInProgress}))})),Ft={initialized:!1},Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED__ACCESS":return Object(S.a)(Object(S.a)({},e),{},{initialized:!0});default:return e}},Mt=r(137),Rt=r(126),Dt=r(136),zt=Object(se.c)({profilePage:st,dialogsPage:pe,usersPage:Ae,auth:D,form:Rt.a,app:Gt}),Bt=Object(se.e)(zt,Object(Dt.a)(Object(se.a)(Mt.a)));window.store=Bt;var qt=Bt,Ht=Object(c.b)((function(e){return{initialize:e.app.initialized,authUserId:e.auth.userId}}),{initializeApp:function(){return function(e){var t=e(R());Promise.all([t]).then((function(){e({type:"INITIALIZED__ACCESS"})}))}}})((function(e){return Object(n.useEffect)((function(){e.initializeApp()}),[]),!1===e.initialize?a.a.createElement(d,null):a.a.createElement("div",{className:"app-wrapper"},a.a.createElement(q,null),a.a.createElement(at,{authUserId:e.authUserId}),a.a.createElement("div",{className:"app-wrapper-content"},a.a.createElement(s.d,null,a.a.createElement(s.b,{path:"/profile",element:a.a.createElement(Tt,null)},a.a.createElement(s.b,{path:":userId",element:a.a.createElement(Tt,null)})),a.a.createElement(s.b,{path:"/messages/*",element:a.a.createElement(ye,null)}),a.a.createElement(s.b,{path:"/users",element:a.a.createElement(At,null)}),a.a.createElement(s.b,{path:"/friends",element:a.a.createElement(tt,null)}),a.a.createElement(s.b,{path:"/login",element:a.a.createElement(ce,null)}))))})),Wt=function(){return a.a.createElement(l.a,null,a.a.createElement(c.a,{store:qt},a.a.createElement(Ht,null)))};r(301);i.a.render(a.a.createElement(Wt,null),document.getElementById("root"))},33:function(e,t,r){e.exports={login__block:"AuthComponent_login__block__3ElpX",login__form:"AuthComponent_login__form__3nhBx",login:"AuthComponent_login__2QJvm",btn__logout:"AuthComponent_btn__logout__mgB8v"}},34:function(e,t,r){e.exports={formError:"formControls_formError__2R1WC",rememberMe:"formControls_rememberMe__91V_p",fieldControl:"formControls_fieldControl__1DfjU"}},35:function(e,t,r){e.exports={selectedPage:"Paginator_selectedPage__2RV8R",numberPage:"Paginator_numberPage__3FpNz",wrapperPage:"Paginator_wrapperPage__38qzO",wrapperPrev:"Paginator_wrapperPrev__11reI",portion:"Paginator_portion__2Y7Bx"}},36:function(e,t,r){e.exports={profile__img:"ProfileInfo_profile__img__1FqeS",profile__wrapper:"ProfileInfo_profile__wrapper__ryhAY",profile__info:"ProfileInfo_profile__info__PlW92",about__user:"ProfileInfo_about__user__2g9SG",userName:"ProfileInfo_userName__3gBbn"}},54:function(e,t,r){e.exports={header__wrapper:"Header_header__wrapper__1O_TU",header:"Header_header__iLGU8",logo:"Header_logo__2j3ml",logo__text:"Header_logo__text__2uBvm"}},55:function(e,t,r){e.exports={wrapperContact:"AdditionalInformation_wrapperContact__jUu03",wrapperAddInf:"AdditionalInformation_wrapperAddInf__YUUEb",wrapperContacts:"AdditionalInformation_wrapperContacts__2vfHo",editModeActive:"AdditionalInformation_editModeActive__25Pyt"}},56:function(e,t,r){e.exports={wrapper:"Posts_wrapper__3qGWR",post:"Posts_post__1pAkY",avatar:"Posts_avatar__3MPfR",text:"Posts_text__3nSJk",wrapperTextPost:"Posts_wrapperTextPost__Ziy6U",deletePost:"Posts_deletePost__3Nm8w"}},87:function(e,t,r){}},[[164,1,2]]]);
//# sourceMappingURL=main.db06204b.chunk.js.map