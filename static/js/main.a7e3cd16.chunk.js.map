{"version":3,"sources":["components/Dekstop/Messages/Messages.module.css","components/Mobile/Nav/Nav.module.css","assets/img/logout.svg","components/Dekstop/Nav/Nav.module.css","assets/img/preloader.svg","components/Common/Preloader/Preloader.module.css","components/Dekstop/Profile/ProfileInfo/ProfileStatus/ProfileStatus.module.css","components/Mobile/Profile/Profile.module.css","components/Mobile/Profile/ProfileInfo/ProfileStatus/ProfileStatus.module.css","assets/img/user.jpg","components/Mobile/Users/Users.module.css","components/Dekstop/LoginPage/LoginPage.module.css","components/Mobile/Login Page/Login.module.css","components/Dekstop/Users/Users.module.css","api/api.js","Redux/auth-reduser.ts","Redux/Mobile/header-reduser.ts","components/Common/LogoutSvg/LogoutSvg.js","components/AuthComponent/LogoutForm.jsx","components/AuthComponent/AuthComponent.jsx","components/Dekstop/Header/Header.jsx","components/Dekstop/Header/HeaderContainer.jsx","utils/validators/validators.js","components/Common/formsControls/formControls.js","components/Dekstop/LoginPage/LoginForm/LoginForm.jsx","components/Dekstop/LoginPage/LoginPage.jsx","components/Dekstop/LoginPage/LoginPageContainer.jsx","hoc/withAuthLocation.jsx","Redux/dialogs-reduser.js","components/Dekstop/Messages/DilogItem/DialogItem.jsx","components/Dekstop/Messages/Message/Message.jsx","components/Dekstop/Messages/MessageForm/MessageForm.jsx","components/Dekstop/Messages/Messages.jsx","components/Dekstop/Messages/MessagesContainer.jsx","utils/objects-helper.js","Redux/users-reduser.ts","Redux/users-selector.js","components/Common/Preloader/Preloader.js","components/Common/Paginator/Paginator.js","components/Dekstop/Users/User/User.jsx","components/Dekstop/MyFriends/MyFriends.jsx","components/Dekstop/MyFriends/MyFriendsContainer.jsx","components/Dekstop/Nav/Nav.jsx","Redux/profile-reduser.ts","components/Dekstop/AdditionalInformation/AdditionalInformation.jsx","components/Dekstop/Profile/Posts/Posts.jsx","components/Dekstop/Profile/MyPost/MyPostForm/MyPostForm.jsx","components/Dekstop/Profile/MyPost/MyPost.jsx","components/Dekstop/Profile/MyPost/MyPostContainer.jsx","components/Dekstop/Profile/ProfileInfo/ProfileStatus/ProfileStatus.jsx","components/Common/ModalWindow/ModalWindow.js","components/Common/Lorem/Lorem.js","components/Dekstop/Profile/ProfileInfo/ProfileInfo.jsx","components/Dekstop/Profile/Profile.jsx","components/Dekstop/Profile/ProfileContainer.jsx","Redux/settingComponent-reduser.ts","components/Common/useTheme/useTheme.js","components/Common/switchInput/SwitchInput.js","components/Dekstop/Setting Component/SettingComponent.jsx","components/Dekstop/Setting Component/SettingCompContainer.jsx","components/Dekstop/Users/Users.jsx","components/Dekstop/Users/UsersContainer.jsx","adaptiveComponents/DesktopView.jsx","components/Mobile/Nav/Nav.jsx","components/Mobile/Nav/NavContainer.jsx","components/Mobile/Header/Header.jsx","components/Mobile/Header/HeaderContainer.jsx","components/Mobile/Login Page/LoginForm/LoginForm.jsx","components/Mobile/Login Page/Login.jsx","components/Mobile/Login Page/LoginContainer.jsx","components/Mobile/Messages/Messages.jsx","components/Mobile/Users/User/User.jsx","components/Mobile/My Friends/MyFriends.jsx","components/Mobile/My Friends/MyFriendsContainer.jsx","components/Mobile/Profile/AdditionalInformation/AdditionalInformation.jsx","components/Mobile/Profile/Posts/Posts.jsx","components/Mobile/Profile/MyPost/MyPostForm/MyPostForm.jsx","components/Mobile/Profile/MyPost/MyPost.jsx","components/Mobile/Profile/MyPost/MyPostContainer.jsx","components/Mobile/Profile/ProfileInfo/ProfileStatus/ProfileStatus.jsx","components/Mobile/Profile/ProfileInfo/ProfileInfo.jsx","components/Mobile/Profile/Profile.jsx","components/Mobile/Profile/ProfileContainer.jsx","components/Mobile/Settins Component/Settings.jsx","components/Mobile/Settins Component/SettingsContainer.jsx","components/Mobile/Users/Users.jsx","components/Mobile/Users/UsersContainer.jsx","adaptiveComponents/MobileView.jsx","adaptiveComponents/TabletView.jsx","Redux/app-reduser.ts","Redux/redux-store.js","App.js","index.js","components/Dekstop/Profile/MyPost/MyPost.module.css","components/Mobile/Profile/MyPost/MyPost.module.css","components/Mobile/Header/Header.module.css","components/AuthComponent/AuthComponent.module.css","components/Common/formsControls/formControls.module.css","components/Common/Paginator/Paginator.module.css","components/Dekstop/Profile/ProfileInfo/ProfileInfo.module.css","components/Mobile/Profile/ProfileInfo/ProfileInfo.module.css","components/Dekstop/Header/Header.module.css","components/Dekstop/Profile/Posts/Posts.module.css","components/Mobile/Profile/AdditionalInformation/AdditionalInformation.module.css","components/Mobile/Profile/Posts/Posts.module.css","components/Dekstop/AdditionalInformation/AdditionalInformation.module.css","components/Dekstop/Setting Component/SettingComponent.module.css","components/Mobile/Messages/Messages.module.css","components/Mobile/Settins Component/Settings.module.css","adaptiveComponents/Mobile.module.css"],"names":["module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","requestGetUsers","currentPage","pageSize","get","requestGetFriendUsers","friend","follow","userId","post","id","unfollow","delete","getUserProfile","getProfileStatus","updateProfileStatus","status","put","authAPI","email","password","rememberMe","captcha","securityAPI","initialState","login","isAuth","captchaUrl","setAuthUserData","type","payload","getCaptchaUrl","getAuthUserData","dispatch","response","data","resultCode","url","message","messages","length","stopSubmit","_error","authReduser","state","action","isOpenNavMenu","openNavMenu","isOpen","headerRedusers","LogoutSvg","className","classes","logout__img","src","logout","LogoutReduxForm","reduxForm","form","props","login__block","login__form","onSubmit","handleSubmit","to","btn__logout","connect","auth","Header","header__wrapper","header","logo","logo__text","wrapper_auth","required","value","maxLengthCreator","maxLength","FormControl","meta","touched","error","children","hasError","formControl","formError","submitFormonEnter","e","keyCode","preventDefault","Textarea","input","restProps","child","Input","inputWrapper","autoComplete","createField","placeholder","name","validators","component","text","fieldControl","Field","validate","LoginReduxForm","formSummaryError","titleLogin","loginTitle","imgCaptcha","submit","loginBtn","replace","wrapperLoginPage","wrapperForm","formData","LoginPageContainer","isFetching","usersPage","profile","profilePage","LoginPage","withAuthLocation","Component","dialogs","window","dialogsReduser","body","newMessageBody","DialogItem","path","dialog","active","DialogItem__link","Message","maxLength100","MessageFormRedux","textMessage","textarea","autoFocus","btn","btnSend","button","Messages","dialogsElement","map","d","key","messagesElement","m","wrapper__messages","wrapper_dev","dev","title","stick","flexbox","wrapper__messanger","messanger","values","sendMessage","compose","dialogsPage","newMessageText","sendMessageAC","updateObjectInArray","items","itemId","objPropName","newObjProps","u","users","totalUsersCount","currentPageUsers","currentPageFriends","followingInProgress","followSuccess","unfollowSuccess","setUsers","setCurrentPageUsers","setCurrentPageFriends","setTotalUsersCount","count","toggleIsFetching","toggleFollowingProgress","page","totalCount","followUnfollowFlow","apiMethod","ACFollowUnfollow","bind","usersReduser","followed","filter","getUsersArray","getUsers","createSelector","getPageSize","getTotalUsersCount","getCurrentPageUsers","getCurrentPageFriends","getIsFetching","getFollowingInProgress","Preloader","loader","preloader","Paginator","onPageChanged","portionSize","useState","portionNumber","setPortionNumber","pages","pagesCount","Math","ceil","i","push","useEffect","leftPortionPageNumber","rightPortionPageNumber","numberPage","wrapperPrev","portion","onClick","href","p","wrapperPage","selectedPage","User","wrapper","wrapper__avatar","user","avatar","photos","small","userPhoto","btn__wrapper","disabled","some","btn__unfollow","btn__follow","wrapper__info","nickName","userName__link","location","MyFriends","f","pageNumber","hundleClick","nav","link","navData","isActive","item","line","posts","newPostText","urlProfilePhoto","persistConfig","storage","blacklist","addPostAC","deletePost","isDelete","setProfileStatus","updateProfilePhoto","getProfile","persistReducer","Contact","wrapperContact","contactTitle","contactValue","AdditionalInformation","editMode","setEditMode","wrapperAddInf","lookingForAJob","lookingForAJobDescription","fullName","wrapperContacts","editModeActive","Object","keys","contacts","Posts","deleteBtn","maxLength500","MyPostReduxForm","setText","refForm","useRef","ref","textarea__wrapper","onChange","target","MyPosts","addPost","idPost","MyPostsContainer","ProfileStatus","updateStatusEnter","React","createRef","setStatus","deactivateEditeMode","data-testid","aboutMe__editor","current","addEventListener","keyPress","once","currentTarget","onBlur","defaultValue","onMouseDown","ModalWindow","setEctive","setPhoto","profilePhotoLarge","userImage","setUserPhoto","photoImg","URL","createObjectURL","stopPropagation","htmlFor","files","Lorem","ProfileInfo","setActive","photo","profile__wrapper","wrapper_img","profile__img","large","profile__info","userName","about__user","Profile","content","authUserId","useParams","isSelectedDarkTheme","selectedDarkTheme","isSelected","settingPageRedusers","useTheme","localStorage","getItem","theme","setTheme","useLayoutEffect","document","documentElement","setAttribute","setItem","SwitchInput","defaultChecked","SettingComponent","wrapperFields","inputLabel","SettingCompContainer","settingPage","Users","DesktopView","element","MessagesContainer","Nav","open","wrapper_nav","NavContainer","mobHeader","burger_menu","menu_open","menu_closed","HeaderContainer","wrapperMode","maxLength200","wrapper_users","MobileViewCont","wrapper_app","TabletView","initialized","appReduser","reducers","combineReducers","profileReducer","dialogsReducer","formReduser","app","whitelist","pReducer","store","createStore","composeWithDevTools","applyMiddleware","thankMiddleware","persistor","persistStore","AppContainer","initialize","initializeApp","promise","Promise","all","then","isDesktop","useMediaQuery","query","isMobile","isTablet","AppSocialNet","loading","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a7e3cd16.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"DialogItem__link\":\"Messages_DialogItem__link__33PbV\",\"wrapper__messages\":\"Messages_wrapper__messages__CDFYn\",\"stick\":\"Messages_stick__Qc2eg\",\"title\":\"Messages_title__pIh41\",\"dialogs\":\"Messages_dialogs__XPT6q\",\"dialog\":\"Messages_dialog__2V5E5\",\"flexbox\":\"Messages_flexbox__3imSB\",\"wrapper__messanger\":\"Messages_wrapper__messanger__1R0Tp\",\"message\":\"Messages_message__261ss\",\"textMessage\":\"Messages_textMessage__1ok3y\",\"textarea\":\"Messages_textarea__3P9h4\",\"btn\":\"Messages_btn__3MJMT\",\"btnSend\":\"Messages_btnSend__2myXy\",\"button\":\"Messages_button__fFOGJ\",\"wrapper_dev\":\"Messages_wrapper_dev__1gWg-\",\"dev\":\"Messages_dev__xdIBV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__15tNa\",\"wrapper_nav\":\"Nav_wrapper_nav__Oi7_W\",\"wrapper_auth\":\"Nav_wrapper_auth__1uHrt\"};","module.exports = __webpack_public_path__ + \"static/media/logout.6517ee94.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__10b2e\",\"settings\":\"Nav_settings__2oTSh\",\"line\":\"Nav_line__2AtEq\",\"link\":\"Nav_link__3K76f\",\"active\":\"Nav_active__-BRCk\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.ef886190.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Preloader_loader__aA5wi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aboutMe__editor\":\"ProfileStatus_aboutMe__editor__2qwYS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile__wrapper\":\"Profile_profile__wrapper__299ik\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aboutMe__editor\":\"ProfileStatus_aboutMe__editor__adjvr\"};","module.exports = __webpack_public_path__ + \"static/media/user.8c62dd08.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Users_wrapper__cuToJ\",\"users\":\"Users_users__62fOr\",\"btn__wrapper\":\"Users_btn__wrapper__3n-Qo\",\"btn__follow\":\"Users_btn__follow__2uQB1\",\"btn__unfollow\":\"Users_btn__unfollow__30O2J\",\"btn__follow__click\":\"Users_btn__follow__click__2O9C6\",\"wrapper__avatar\":\"Users_wrapper__avatar__2Gr3C\",\"wrapper__info\":\"Users_wrapper__info__sIzmG\",\"avatar\":\"Users_avatar__20sJI\",\"nickName\":\"Users_nickName__2XwWa\",\"status\":\"Users_status__2k3N1\",\"location\":\"Users_location__37TMD\",\"userName__link\":\"Users_userName__link__25gZo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperLoginPage\":\"LoginPage_wrapperLoginPage__2Xo9p\",\"titleLogin\":\"LoginPage_titleLogin__2l-MN\",\"formSummaryError\":\"LoginPage_formSummaryError__G0KR2\",\"form\":\"LoginPage_form__1s0tv\",\"submit\":\"LoginPage_submit__2wVZN\",\"loginBtn\":\"LoginPage_loginBtn__2BwR3\",\"error\":\"LoginPage_error__1ason\",\"imgCaptcha\":\"LoginPage_imgCaptcha__3LsKT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperLoginPage\":\"Login_wrapperLoginPage__3pwOV\",\"titleLogin\":\"Login_titleLogin__1rLpC\",\"formSummaryError\":\"Login_formSummaryError__1IBdw\",\"form\":\"Login_form__3Otbl\",\"submit\":\"Login_submit__1T-od\",\"loginBtn\":\"Login_loginBtn__3gCAx\",\"error\":\"Login_error__1BeNl\",\"imgCaptcha\":\"Login_imgCaptcha__2N2g0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Users_wrapper__nG39w\",\"users\":\"Users_users__3q2xW\",\"btn__wrapper\":\"Users_btn__wrapper__14PVJ\",\"btn__follow\":\"Users_btn__follow__30RWI\",\"btn__unfollow\":\"Users_btn__unfollow__2SjfL\",\"btn__follow__click\":\"Users_btn__follow__click__1ePmR\",\"wrapper__avatar\":\"Users_wrapper__avatar__3Qg9Z\",\"wrapper__info\":\"Users_wrapper__info__3vtXE\",\"avatar\":\"Users_avatar__3BGp6\",\"nickName\":\"Users_nickName__1FtBh\",\"status\":\"Users_status__2mGkl\",\"location\":\"Users_location__2PH_j\",\"userName__link\":\"Users_userName__link__2XL54\"};","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: { \"API-KEY\": \"f875b6a1-5fef-48ce-a963-4e6042f223a9\" }\r\n})\r\n\r\nexport const usersAPI = {\r\n    requestGetUsers(currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n    },\r\n    requestGetFriendUsers(currentPage, pageSize, friend = true) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}&friend=${friend}`)\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId.id}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId.id}`)\r\n    },\r\n    getUserProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getProfileStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateProfileStatus(status) {\r\n        return instance.put(`profile/status`, { status })\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe, captcha = null) {\r\n        return instance.post(`auth/login`, { email, password, rememberMe, captcha })\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrlData() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}","import { stopSubmit } from \"redux-form\"\r\nimport { authAPI, securityAPI } from \"../api/api\"\r\n\r\nconst SET_AUTH_USER_DATA = 'SET_AUTH_USER_DATA'\r\nconst OUT_AUTH_USER_DATA = 'OUT_AUTH_USER_DATA'\r\nconst GET_CAPTCHA_URL = 'GET_CAPTCHA_URL'\r\n\r\nexport type InitialStateType = {\r\n    userId: number | null,\r\n    email: string | null,\r\n    login: string | null,\r\n    rememberMe: boolean,\r\n    isAuth: boolean,\r\n    captchaUrl: null\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    rememberMe: false,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n}\r\n\r\nconst authReduser = (state = initialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER_DATA:\r\n        case GET_CAPTCHA_URL:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        case OUT_AUTH_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                isAuth: false\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\ntype PayloadType = {\r\n    userId: number | null\r\n    email: string | null\r\n    login: string | null\r\n    isAuth: boolean\r\n}\r\ntype SetAuthUserDataType = {\r\n    type: typeof SET_AUTH_USER_DATA\r\n    payload: PayloadType\r\n}\r\nexport const setAuthUserData = (userId: number, email: string, login: string, isAuth: boolean): SetAuthUserDataType =>\r\n    ({ type: SET_AUTH_USER_DATA, payload: { userId, email, login, isAuth } })\r\n\r\ntype OutAuthUserDataType = {\r\n    type: typeof OUT_AUTH_USER_DATA\r\n    payload: PayloadType\r\n}\r\nexport const outAuthUserData = (userId: number | null, email: string | null, login: string | null, isAuth: boolean): OutAuthUserDataType =>\r\n    ({ type: OUT_AUTH_USER_DATA, payload: { userId, email, login, isAuth } })\r\n\r\ntype GetCaptchaUrlType = {\r\n    type: typeof GET_CAPTCHA_URL\r\n    payload: object | null\r\n}\r\nexport const getCaptchaUrl = (captchaUrl: object): GetCaptchaUrlType => ({ type: GET_CAPTCHA_URL, payload: { captchaUrl } })\r\n\r\nexport const getAuthUserData = () => async (dispatch: any) => {\r\n    let response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n        let { id, email, login } = response.data.data\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrlData = () => async (dispatch: any) => {\r\n    const response = await securityAPI.getCaptchaUrlData()\r\n    const captchaUrl = response.data.url\r\n    dispatch(getCaptchaUrl(captchaUrl))\r\n}\r\n\r\nexport const login = (email: string | null, password: string | null, rememberMe: boolean, captcha: any) =>\r\n    async (dispatch: any) => {\r\n        let response = await authAPI.login(email, password, rememberMe, captcha)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(getAuthUserData())\r\n        } else {\r\n            if (response.data.resultCode === 10) {\r\n                dispatch(getCaptchaUrlData())\r\n            }\r\n            let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some Error\"\r\n            dispatch(stopSubmit(\"login\", { _error: message }))\r\n        }\r\n    }\r\n\r\n\r\nexport const logout = () => async (dispatch: any) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(outAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReduser","const SET_NAV_MENU = 'SET_NAV_MENU'\r\n\r\nconst initialState = {\r\n    isOpenNavMenu: false\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nconst headerRedusers = (state = initialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_NAV_MENU:\r\n            return {\r\n                ...state,\r\n                isOpenNavMenu: action.isOpen\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\ntype OpenNavMenuType = {\r\n    type: typeof SET_NAV_MENU\r\n    isOpen: boolean\r\n  }\r\nexport const openNavMenu = (isOpen: boolean): OpenNavMenuType => ({ type: SET_NAV_MENU, isOpen })\r\n\r\nexport default headerRedusers","import React from \"react\";\r\nimport logout from \"../../../assets/img/logout.svg\"\r\nimport classes from \"./LogoutSvg.module.css\"\r\n\r\nconst LogoutSvg = () => {\r\n    return (\r\n        <div className={classes.logout__img}>\r\n            <img src={logout}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LogoutSvg","import React from \"react\";\r\nimport classes from \"./AuthComponent.module.css\"\r\nimport { reduxForm } from \"redux-form\"\r\nimport { NavLink } from \"react-router-dom\"\r\nimport LogoutSvg from \"../Common/LogoutSvg/LogoutSvg\";\r\n\r\nconst LogoutForm = (props) => {\r\n    return (\r\n        <div className={classes.login__block}>\r\n            <form className={classes.login__form} onSubmit={props.handleSubmit}>\r\n                <p className={classes.login}> {props.isAuth ? props.login :\r\n                    <NavLink to={'/login'}>Login</NavLink>} {props.isAuth ?\r\n                        <button className={classes.btn__logout}><LogoutSvg /></button> : \"\"}</p>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst LogoutReduxForm = reduxForm({ form: 'logout' })(LogoutForm)\r\n\r\nexport default LogoutReduxForm","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../Redux/auth-reduser\";\r\nimport { openNavMenu } from \"../../Redux/Mobile/header-reduser\";\r\nimport classes from \"./AuthComponent.module.css\";\r\nimport LogoutReduxForm from \"./LogoutForm\";\r\n\r\nconst AuthComponent = (props) => {\r\n    \r\n    const onSubmit = () => {\r\n        props.logout()\r\n        props.openNavMenu(false)\r\n    }\r\n    \r\n    return (\r\n        <div className={classes.login__block}>\r\n            <LogoutReduxForm {...props} onSubmit={onSubmit} isAuth={props.isAuth}\r\n                login={props.login} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, { logout, openNavMenu })(AuthComponent)","import classes from './Header.module.css';\r\nimport React from 'react';\r\nimport AuthComponent from '../../AuthComponent/AuthComponent';\r\n\r\nconst Header = () => {\r\n    return (\r\n        <header className={classes.header__wrapper}>\r\n            <div className={classes.header}>\r\n                <div className={classes.logo}>\r\n                    <p>Social </p>\r\n                    <p className={classes.logo__text}> NET</p>\r\n                </div>\r\n                <div className={classes.wrapper_auth}><AuthComponent /></div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Header from \"./Header\";\r\n\r\nconst HeaderContainer = (props) => {\r\n    return (\r\n        <Header { ...props } />\r\n        )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps)(HeaderContainer)","export const required = value => {\r\n    if (value) return undefined\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}","import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\nimport classes from \"./formControls.module.css\";\r\n\r\nexport const FormControl = ({ meta: {touched, error}, children }) => {\r\n    const hasError = touched && error\r\n    return (\r\n        <div className={classes.formControl + \" \" + (hasError ? classes.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span className={classes.formError}>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst submitFormonEnter = (e) => {\r\n    if (e.keyCode === 13) {\r\n        e.preventDefault()\r\n    }\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><textarea onSubmit={submitFormonEnter} {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><input className={classes.inputWrapper} {...input} {...restProps} autoComplete=\"off\" /></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n    <div className={classes.fieldControl}>\r\n        <Field placeholder={placeholder}\r\n            name={name}\r\n            validate={validators}\r\n            component={component}\r\n            {...props} /> <span className={classes.rememberMe}>{text}</span>\r\n    </div>\r\n)\r\n","import React from \"react\";\r\nimport { reduxForm } from \"redux-form\";\r\nimport { required } from \"../../../../utils/validators/validators\";\r\nimport { createField, Input } from \"../../../Common/formsControls/formControls\";\r\nimport classes from \"../LoginPage.module.css\";\r\n\r\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\r\n    return (\r\n        <div className={error ? classes.formSummaryError : classes.form}>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className={classes.titleLogin}>\r\n                    <p className={classes.loginTitle}>LOGIN</p>\r\n                </div>\r\n                {createField('Email', \"email\", [required], Input)}\r\n                {createField(\"Password\", \"password\", [required], Input, { type: \"password\" })}\r\n                {createField(null, \"rememberMe\", [], Input, { type: \"checkbox\" }, \"Remember Me\")}\r\n\r\n                {captchaUrl && <img className={classes.imgCaptcha} src={captchaUrl} />}\r\n                {captchaUrl && createField(\"Symbols from image\", \"captcha\", [required], Input, {})}\r\n                <div className={classes.submit}>\r\n                    <button className={classes.loginBtn}>Log In</button>\r\n                    <span className={classes.error}>{error && <div> {error} </div>}</span>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\r\n\r\nexport default LoginReduxForm","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { login } from \"../../../Redux/auth-reduser\";\r\nimport LoginReduxForm from \"./LoginForm/LoginForm\";\r\nimport classes from \"./LoginPage.module.css\";\r\n\r\nconst LoginPage = (props) => {\r\n\r\n    if (props.isAuth) {\r\n        return <Navigate replace to={\"/profile\"} />\r\n    }\r\n    \r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.wrapperLoginPage}>\r\n            <div className={classes.wrapperForm}>\r\n                <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(null, { login })(LoginPage)","import { connect } from \"react-redux\";\r\nimport LoginPage from \"./LoginPage\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        isFetching: state.usersPage.isFetching,\r\n        profile: state.profilePage.profile,\r\n        captchaUrl: state.auth.captchaUrl\r\n    }\r\n}\r\n\r\nconst LoginPageContainer = connect(mapStateToProps)(LoginPage)\r\n\r\nexport default LoginPageContainer\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nexport const withAuthLocation = (Component) => {\r\n    const mapStateToProps = (state) => ({\r\n        isAuth: state.auth.isAuth\r\n    })\r\n    const LocationComponent = (props) => {\r\n        if (!props.isAuth) {\r\n            return <Navigate replace to={\"/login\"} />\r\n        }\r\n        return <Component {...props} /> \r\n    }\r\n    const ConnectedAuthLocation = connect(mapStateToProps)(LocationComponent)\r\n    return ConnectedAuthLocation\r\n}","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    { id: 1, name: 'Nick 1' },\r\n    { id: 2, name: 'Nick 2' },\r\n    { id: 3, name: 'Nick 3' },\r\n    { id: 4, name: 'Nick 4' },\r\n    { id: 5, name: 'Nick 5' }\r\n  ],\r\n  messages: []\r\n}\r\n\r\nwindow.initialState = initialState;\r\n\r\nconst dialogsReduser = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      let body = action.newMessageBody\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, {id: action.id, message: body}] \r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const sendMessageAC = (newMessageBody, id) => ({ type: SEND_MESSAGE, newMessageBody, id })\r\nexport default dialogsReduser;","import classes from './../Messages.module.css';\r\nimport React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst DialogItem = (props) => {\r\n    let path = '/messages/' + props.id;\r\n    return (\r\n        <div className={classes.dialog + ' ' + classes.active}>\r\n            <NavLink className={classes.DialogItem__link} to={path}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport default DialogItem;","import classes from './../Messages.module.css';\r\nimport React from 'react';\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className={classes.message}>\r\n            {props.message}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Message;","import React from \"react\";\r\nimport classes from \"../Messages.module.css\"\r\nimport { Field, reduxForm } from \"redux-form\"\r\nimport { maxLengthCreator, required } from \"../../../../utils/validators/validators\";\r\nimport { Textarea } from \"../../../Common/formsControls/formControls\";\r\n\r\nconst maxLength100 = maxLengthCreator(100)\r\n\r\nconst MessageForm = (props) => {\r\n    return (\r\n        <div className={classes.textMessage}>\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div >\r\n                    <Field className={classes.textarea} component={Textarea}\r\n                        name=\"newMessageBody\" placeholder=\"Enter your message\" autoFocus\r\n                        validate={[required, maxLength100]}  />\r\n                </div>\r\n                <div className={classes.btn}>\r\n                    <div className={classes.btnSend}>\r\n                        <button className={classes.button}>Send</button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const MessageFormRedux = reduxForm({ form: \"dilogAddMessageForm\" })(MessageForm)","import classes from './Messages.module.css';\r\nimport React from 'react';\r\nimport DialogItem from './DilogItem/DialogItem';\r\nimport Message from './Message/Message';\r\nimport { MessageFormRedux } from './MessageForm/MessageForm';\r\n\r\nconst Messages = (props) => {\r\n\r\n    let addNewMessage = (values) => {\r\n        if (values.newMessageBody) {\r\n            props.sendMessage(values.newMessageBody)\r\n            values.newMessageBody = ''\r\n        }\r\n    }\r\n\r\n    let dialogsElement = props.dialogs.map(d => <DialogItem name={d.name} key={d.id} id={d.id} />)\r\n    let messagesElement = props.messages.map(m => <Message message={m.message} key={m.id} id={m.id} />)\r\n\r\n    return (\r\n        <div className={classes.wrapper__messages}>\r\n            {<div className={classes.wrapper_dev}><h2 className={classes.dev}>Currently under development</h2></div> ??\r\n                <div>\r\n                    <h2 className={classes.title}>Dialogs</h2>\r\n                    <div className={classes.dialogs}>\r\n                        {dialogsElement}\r\n                    </div>\r\n                    <span className={classes.stick}></span>\r\n                    <div className={classes.flexbox}>\r\n                        <div className={classes.wrapper__messanger}>\r\n                            <div className={classes.messanger}>\r\n                                {messagesElement}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <MessageFormRedux onSubmit={addNewMessage} />\r\n                </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Messages;","import { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { withAuthLocation } from \"../../../hoc/withAuthLocation\";\r\nimport { sendMessageAC } from \"../../../Redux/dialogs-reduser\";\r\nimport Messages from \"./Messages\"\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        dialogs: state.dialogsPage.dialogs,\r\n        messages: state.dialogsPage.messages,\r\n        newMessageText: state.dialogsPage.newMessageText,\r\n        \r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (newMessageBody, id) => {\r\n            dispatch(sendMessageAC(newMessageBody, id));\r\n        }\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthLocation\r\n)(Messages)","\r\nexport const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return { ...u, ...newObjProps }\r\n        }\r\n        return u\r\n    })\r\n} ","import { usersAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from \"../utils/objects-helper\";\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE_USERS = 'SET_CURRENT_PAGE_USERS'\r\nconst SET_CURRENT_PAGE_FRIENDS = 'SET_CURRENT_PAGE_FRIENDS'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 20,\r\n    totalUsersCount: 0,\r\n    currentPageUsers: 1,\r\n    currentPageFriends: 1,\r\n    isFetching: true,\r\n    followingInProgress: [null]\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nconst usersReduser = (state = initialState, action: any): InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", { followed: true })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", { followed: false })\r\n            }\r\n        case SET_USERS: {\r\n            return { ...state, users: action.users }\r\n        }\r\n        case SET_CURRENT_PAGE_USERS: {\r\n            return { ...state, currentPageUsers: action.currentPageUsers }\r\n        }\r\n        case SET_CURRENT_PAGE_FRIENDS: {\r\n            return { ...state, currentPageFriends: action.currentPageFriends }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return { ...state, totalUsersCount: action.count }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype FollowSuccessType = {\r\n    type: typeof FOLLOW\r\n    userId: number\r\n}\r\ntype UnfollowSuccessType = {\r\n    type: typeof UNFOLLOW\r\n    userId: number\r\n}\r\ntype SetUsersType = {\r\n    type: typeof SET_USERS\r\n    users: string\r\n}\r\ntype SetCurrentPageUsersType = {\r\n    type: typeof SET_CURRENT_PAGE_USERS\r\n    currentPageUsers: number\r\n}\r\ntype SetCurrentPageFriendsType = {\r\n    type: typeof SET_CURRENT_PAGE_FRIENDS\r\n    currentPageFriends: number\r\n}\r\ntype SetTotalUsersCountType = {\r\n    type: typeof SET_TOTAL_USERS_COUNT\r\n    count: number\r\n}\r\ntype ToggleIsFetchingType = {\r\n    type: typeof TOGGLE_IS_FETCHING\r\n    isFetching: boolean\r\n}\r\ntype ToggleFollowingProgressType = {\r\n    type: typeof TOGGLE_IS_FOLLOWING_PROGRESS\r\n    isFetching: boolean\r\n    userId: number\r\n}\r\n\r\nexport const followSuccess = (userId: number): FollowSuccessType => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId: number): UnfollowSuccessType => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users: string): SetUsersType => ({ type: SET_USERS, users })\r\nexport const setCurrentPageUsers = (currentPageUsers: number): SetCurrentPageUsersType => ({ type: SET_CURRENT_PAGE_USERS, currentPageUsers })\r\nexport const setCurrentPageFriends = (currentPageFriends: number): SetCurrentPageFriendsType => ({ type: SET_CURRENT_PAGE_FRIENDS, currentPageFriends })\r\nexport const setTotalUsersCount = (totalUsersCount: number): SetTotalUsersCountType =>\r\n    ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount })\r\nexport const toggleIsFetching = (isFetching: boolean): ToggleIsFetchingType => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleFollowingProgress = (isFetching: boolean, userId: number): ToggleFollowingProgressType =>\r\n    ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\nexport const requestGetUsers = (page: number, pageSize: number) => async (dispatch: any) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPageUsers(page))\r\n    let response = await usersAPI.requestGetUsers(page, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(response.data.items))\r\n    dispatch(setTotalUsersCount(response.data.totalCount))\r\n}\r\n\r\nexport const requestGetFriendUsers = (page: number, pageSize: number, friend: boolean) => async (dispatch: any) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPageFriends(page))\r\n    let response = await usersAPI.requestGetFriendUsers(page, pageSize, friend)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(response.data.items))\r\n    dispatch(setTotalUsersCount(response.data.totalCount))\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch: any, userId: { id: number }, apiMethod: any, ACFollowUnfollow: any) => {\r\n    dispatch(toggleFollowingProgress(true, userId.id))\r\n    let response = await apiMethod(userId)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(ACFollowUnfollow(userId.id))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId.id))\r\n}\r\n\r\nexport const follow = (userId: { id: number }) => async (dispatch: any) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\r\n}\r\n\r\nexport const unfollow = (userId: { id: number }) => async (dispatch: any) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\r\n}\r\n\r\nexport default usersReduser;","import { createSelector } from \"reselect\"\r\n\r\nexport const getUsersArray = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersArray, \r\n    (users) => {\r\n        return users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPageUsers = (state) => {\r\n    return state.usersPage.currentPageUsers\r\n}\r\n\r\nexport const getCurrentPageFriends = (state) => {\r\n    return state.usersPage.currentPageFriends\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from \"react\";\r\nimport preloader from '../../../assets/img/preloader.svg'\r\nimport classes from './Preloader.module.css'\r\n\r\nlet Preloader = (props) => {\r\n    return <div className={classes.loader}>\r\n        <img src={preloader} />\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","import React, { useEffect, useState } from \"react\";\r\nimport classes from \"./Paginator.module.css\";\r\n\r\nconst Paginator = ({ totalUsersCount, pageSize, onPageChanged, currentPage, portionSize = 10 }) => {\r\n    const [portionNumber, setPortionNumber] = useState(1)\r\n\r\n    let pages = []\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize)\r\n    for (let i = 1; i <= pagesCount; i++) pages.push(i)\r\n    \r\n    useEffect(() => {\r\n        setPortionNumber(Math.ceil(currentPage / portionSize))\r\n    }, [currentPage])\r\n\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    const selectedNextPortion = () => {\r\n        setPortionNumber(portionNumber - 1)\r\n        onPageChanged(currentPage + 15)\r\n    }\r\n\r\n    const selectedPrevPortion = () => {\r\n        setPortionNumber(portionNumber + 1)\r\n        onPageChanged(currentPage - 15)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.numberPage}>\r\n            <div className={classes.wrapperPrev}> {portionNumber > 1 &&\r\n                <button className={classes.portion} onClick={selectedPrevPortion}><a href=\"#top\">prev</a></button>} </div>\r\n            {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map((p, id) => {\r\n                    return <div\r\n                        onClick={() => { onPageChanged(p) }} className={classes.wrapperPage} key={id}>\r\n                        <button className={currentPage === p ? classes.selectedPage : \"\"}><a href=\"#top\">{p}</a></button></div>\r\n                })\r\n            }\r\n            {pagesCount > 14 &&\r\n                <button className={classes.portion} onClick={selectedNextPortion}><a href=\"#top\">next</a></button>}\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Paginator","import React from \"react\"\r\nimport { NavLink } from \"react-router-dom\";\r\nimport classes from \"../Users.module.css\";\r\nimport userPhoto from '../../../../assets/img/user.jpg'\r\n\r\nconst User = (props) => {\r\n\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <div className={classes.wrapper__avatar}>\r\n                <div>\r\n                    <NavLink to={\"/profile/\" + props.user.id}>\r\n                        <img className={classes.avatar} src={props.user.photos.small != null ? props.user.photos.small : userPhoto} />\r\n                    </NavLink>\r\n                </div>\r\n                <div className={classes.btn__wrapper}>\r\n                    {props.user.followed ? <button disabled={props.followingInProgress.some(id => id === props.user.id)}\r\n                        className={classes.btn__unfollow} onClick={() => { props.unfollow(props.user) }}>Unfollow</button>\r\n                        : <button disabled={props.followingInProgress.some(id => id === props.user.id)}\r\n                            className={classes.btn__follow} onClick={() => { props.follow(props.user) }}>Follow</button>}\r\n                </div>\r\n            </div>\r\n            <div className={classes.wrapper__info}>\r\n                <div>\r\n                    <div className={classes.nickName}>\r\n                        <NavLink to={\"/profile/\" + props.user.id} className={classes.userName__link}>{props.user.name}</NavLink>\r\n                    </div>\r\n                    <div className={classes.status}>{props.user.status}</div>\r\n                </div>\r\n                <div className={classes.location}>\r\n                    <div>{/*u.location.country*/ \"USA,\"}</div>\r\n                    <div>{/*\"u.location.city\"*/ \"New York\"}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User","import React from 'react';\r\nimport Paginator from '../../Common/Paginator/Paginator';\r\nimport User from '../Users/User/User';\r\n\r\nconst MyFriends = ({ users, followed, followingInProgress, follow, unfollow,\r\n    onPageChanged, pageSize, totalUsersCount, currentPage }) => {\r\n    return (\r\n        <div>\r\n            {users.map(f => <User user={f} key={f.id} followed={followed} followingInProgress={followingInProgress}\r\n                unfollow={unfollow} follow={follow} />)}\r\n            <Paginator totalUsersCount={totalUsersCount} pageSize={pageSize}\r\n                currentPage={currentPage} onPageChanged={onPageChanged} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyFriends","import React, { useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport { withAuthLocation } from '../../../hoc/withAuthLocation'\r\nimport { follow, requestGetFriendUsers, setCurrentPageFriends, toggleFollowingProgress, unfollow } from '../../../Redux/users-reduser'\r\nimport { getCurrentPageFriends, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsersArray } from '../../../Redux/users-selector'\r\nimport Preloader from '../../Common/Preloader/Preloader'\r\nimport MyFriends from './MyFriends'\r\n\r\nconst MyFriendsContainer = ({ users, currentPage, pageSize, requestGetFriendUsers, follow, unfollow, isFetching,\r\n    totalUsersCount, followingInProgress }) => {\r\n\r\n    useEffect(() => {\r\n        requestGetFriendUsers(currentPage, pageSize)\r\n    }, [])\r\n    const onPageChanged = (pageNumber) => {\r\n        requestGetFriendUsers(pageNumber, pageSize)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <a name='top'></a>\r\n            {isFetching ? <Preloader /> :\r\n                <MyFriends\r\n                    totalUsersCount={totalUsersCount}\r\n                    pageSize={pageSize}\r\n                    users={users}\r\n                    unfollow={unfollow}\r\n                    follow={follow}\r\n                    onPageChanged={onPageChanged}\r\n                    currentPage={currentPage}\r\n                    followingInProgress={followingInProgress} />\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    users: getUsersArray(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPageFriends(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n})\r\n\r\nexport default\r\n    compose(\r\n        connect(mapStateToProps,\r\n            {\r\n                setCurrentPageFriends,\r\n                requestGetFriendUsers,\r\n                toggleFollowingProgress,\r\n                follow,\r\n                unfollow\r\n            }), withAuthLocation)(MyFriendsContainer)","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { setCurrentPageFriends, setCurrentPageUsers } from '../../../Redux/users-reduser';\r\nimport classes from './Nav.module.css';\r\n\r\nconst Nav = ({ setCurrentPageUsers, setCurrentPageFriends }) => {\r\n    const hundleClick = (e) => {\r\n        e.preventDefault()\r\n        setCurrentPageFriends(1)\r\n        setCurrentPageUsers(1)\r\n    }\r\n\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <div className={classes.link}>\r\n                <NavLink className={navData => navData.isActive ? classes.active : classes.item} to=\"/profile\">Profile</NavLink>\r\n            </div>\r\n            <div className={classes.link}>\r\n                <NavLink className={navData => navData.isActive ? classes.active : classes.item} to=\"/messages\">Messages</NavLink>\r\n            </div>\r\n            <div className={classes.link} onClick={hundleClick}>\r\n                <NavLink className={navData => navData.isActive ? classes.active : classes.item} to=\"/users\">Users</NavLink>\r\n            </div>\r\n            <div className={classes.link} onClick={hundleClick}>\r\n                <NavLink className={navData => navData.isActive ? classes.active : classes.item} to=\"/friends\">My Friends</NavLink>\r\n            </div>\r\n            <div className={classes.line}></div>\r\n            <div className={classes.link}>\r\n                <NavLink className={navData => navData.isActive ? classes.active : classes.item} to=\"/settings\">My Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    // someState\r\n})\r\n\r\nexport default connect(mapStateToProps, { setCurrentPageFriends, setCurrentPageUsers })(Nav);","import persistReducer from \"redux-persist/es/persistReducer\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport { usersAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst SET_PHOTO_PROFILE = 'SET_PHOTO_PROFILE'\r\nconst DELETE_POST = 'DELETE_POST'\r\n\r\ntype PostType = {\r\n  id: number\r\n  message: string\r\n  isDelete: boolean\r\n}\r\ntype ContactsType = {\r\n  github: string\r\n  vk: string\r\n  facebook: string\r\n  instagram: string\r\n  twitter: string\r\n  website: string\r\n  youtube: string\r\n  mainLink: string\r\n}\r\ntype PhotosType = {\r\n  small: string | null\r\n  large: string | null\r\n}\r\ntype ProfileType = {\r\n  userId: number\r\n  lookingForAJob: boolean\r\n  lookingForAJobDescription: string\r\n  fullName: string\r\n  contacts: ContactsType\r\n  photos: PhotosType\r\n}\r\n\r\nlet initialState = {\r\n  posts: [] as Array<PostType>,\r\n  id: 0,\r\n  newPostText: '',\r\n  profile: null as ProfileType | null,\r\n  isFetching: true,\r\n  status: '',\r\n  urlProfilePhoto: null\r\n}\r\n\r\nconst persistConfig: any = {\r\n  key: 'root',\r\n  storage: storage,\r\n  blacklist: ['urlProfilePhoto', 'status', 'isFetching', 'profile']\r\n};\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nconst profileReducer = (state = initialState, action: any): InitialStateType => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      let body = action.newPostText\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, { id: action.id, message: body, isDelete: false }]\r\n      }\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts.filter(post => post.isDelete !== false)]\r\n      }\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      }\r\n    case SET_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n    case SET_PHOTO_PROFILE:\r\n      return {\r\n        ...state,\r\n        urlProfilePhoto: action.urlProfilePhoto\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\ntype AddPostACType = {\r\n  type: typeof ADD_POST\r\n  newPostText: string\r\n  id: number\r\n}\r\ntype SetUserProfileType = {\r\n  type: typeof SET_USER_PROFILE\r\n  profile: ProfileType\r\n}\r\ntype SetProfileStatusType = {\r\n  type: typeof SET_STATUS\r\n  status: string\r\n}\r\nexport const addPostAC = (newPostText: string, id: number): AddPostACType => ({ type: ADD_POST, newPostText, id })\r\nexport const deletePost = (isDelete: boolean) => ({ type: DELETE_POST, isDelete })\r\nexport const setUserProfile = (profile: ProfileType): SetUserProfileType => ({ type: SET_USER_PROFILE, profile })\r\nexport const setProfileStatus = (status: string): SetProfileStatusType => ({ type: SET_STATUS, status })\r\nexport const updateProfilePhoto = (urlProfilePhoto: object) => ({ type: SET_PHOTO_PROFILE, urlProfilePhoto })\r\n\r\nexport const getProfile = (userId: number) => async (dispatch: any) => {\r\n  let response = await usersAPI.getUserProfile(userId)\r\n  dispatch(setUserProfile(response.data))\r\n}\r\nexport const getProfileStatus = (userId: number) => async (dispatch: any) => {\r\n  let response = await usersAPI.getProfileStatus(userId)\r\n  dispatch(setProfileStatus(response.data))\r\n}\r\nexport const updateProfileStatus = (status: string) => async (dispatch: any) => {\r\n  let response = await usersAPI.updateProfileStatus(status)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setProfileStatus(status))\r\n  }\r\n}\r\n\r\nexport default persistReducer(persistConfig, profileReducer);","import React, { useState } from 'react';\r\nimport classes from './AdditionalInformation.module.css';\r\n\r\nconst AdditionalInformation = (props) => {\r\n    const [editMode, setEditMode] = useState(false)\r\n\r\n    const activetedMode = () => {\r\n        setEditMode(!editMode)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.wrapperAddInf}>\r\n            <div>\r\n                <p>\r\n                    <b>lookingForAJob:</b>\r\n                    <span>{props.profile.lookingForAJob ? \"Yes\" : \"No\"}</span>\r\n                </p>\r\n            </div>\r\n            {props.profile.lookingForAJob &&\r\n                <div>\r\n                    <p>\r\n                        <b>My profissional skill:</b>\r\n                        <span>{props.profile.lookingForAJobDescription}</span>\r\n                    </p>\r\n                </div>\r\n            }\r\n            <div>\r\n                <p>\r\n                    <b>Full name:</b> \r\n                    <span>{props.profile.fullName}</span>\r\n                    </p>\r\n            </div>\r\n            <div className={classes.wrapperContacts}>\r\n                <b>Contacts:</b>\r\n                <span onClick={activetedMode}>\r\n                    <p className={editMode ? classes.editModeActive : null}>&#5125;</p>\r\n                </span>\r\n                {editMode && Object.keys(props.profile.contacts).map(key => {\r\n                    return <Contact key={key} contactTitle={key}\r\n                        contactValue={props.profile.contacts[key]} />\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Contact = (props) => {\r\n\r\n    return (\r\n        <div className={classes.wrapperContact}>\r\n            <p><b>{props.contactTitle}:</b> {!props.contactValue ? \"-\" : props.contactValue}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AdditionalInformation","import React, { useState } from 'react';\r\nimport userPhoto from '../../../../assets/img/user.jpg';\r\nimport classes from './Posts.module.css';\r\n\r\nconst Posts = (props) => {\r\n    const [isDelete, setIsDelete] = useState(false)\r\n\r\n    const handleClick = (e) => {\r\n        setIsDelete(!isDelete)\r\n        props.deletePost(isDelete)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            {props.posts.map((post, id, isDelete) => (\r\n                <ul key={id}>\r\n                    <li>\r\n                        <div className={classes.post}>\r\n                            <div className={classes.avatar}>\r\n                                <img src={props.profile.photos.small != null ? props.profile.photos.small : userPhoto} />\r\n                            </div>\r\n                            <div className={classes.text}>\r\n                                {post.message}\r\n                                <span className={classes.deleteBtn} onClick={() => props.deletePost(!isDelete)}>x</span>\r\n                            </div>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Posts;","import React, { useRef, useState } from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { maxLengthCreator, required } from \"../../../../../utils/validators/validators\";\r\nimport { Textarea } from \"../../../../Common/formsControls/formControls\";\r\nimport classes from \"../MyPost.module.css\";\r\n\r\nconst maxLength500 = maxLengthCreator(500)\r\n\r\nconst MyPostForm = (props) => {\r\n    const [text, setText] = useState('')\r\n    const refForm = useRef()\r\n\r\n    return (\r\n        <div>\r\n            <form ref={refForm} onSubmit={props.handleSubmit}>\r\n                <div className={classes.textarea__wrapper}>\r\n                    <Field component={Textarea} name=\"newPostText\" className={classes.textarea}\r\n                        validate={[required, maxLength500]} placeholder={\"Post message\"}\r\n                            value={text} onChange={e => setText(e.target.value)} />\r\n                    {/* { createField(\"Post message\", \"newPostText\", [required], Textarea, {}) } */}\r\n                </div>\r\n                <div className={classes.btn__wrapper}>\r\n                    <button className={classes.btn} type=\"submit\">Post</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const MyPostReduxForm = reduxForm({ form: \"addMyPostForm\" })(MyPostForm)","import React from 'react';\r\nimport Preloader from '../../../Common/Preloader/Preloader';\r\nimport Posts from '../Posts/Posts';\r\nimport classes from './MyPost.module.css';\r\nimport { MyPostReduxForm } from './MyPostForm/MyPostForm';\r\n\r\nconst MyPosts = (props) => {\r\n\r\n    const onPostMessage = (values) => {\r\n        if (values.newPostText) {\r\n            props.addPost(values.newPostText, props.id)\r\n            values.newPostText = ''\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <MyPostReduxForm onSubmit={onPostMessage} addPost={props.addPost} newPostText={props.newPostText} />\r\n            <h2>Posts:</h2>\r\n            <div className={classes.Posts}>\r\n                {props.isFetching ?\r\n                    <Posts posts={props.posts} id={props.id} deletePost={props.deletePost} profile={props.profile} idPost={props.idPost} />\r\n                    : <Preloader />}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyPosts;","import { connect } from 'react-redux';\r\nimport { addPostAC, deletePost } from '../../../../Redux/profile-reduser';\r\nimport MyPosts from './MyPost';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText,\r\n        profile: state.profilePage.profile,\r\n        isFetching: state.profilePage.isFetching\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText, id) => {\r\n            dispatch(addPostAC(newPostText, id));\r\n        },\r\n        deletePost: (isDelete) => {\r\n            dispatch(deletePost(isDelete))\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;","import React, { useEffect, useState } from \"react\";\r\nimport classes from \"./ProfileStatus.module.css\"\r\n\r\nconst ProfileStatus = (props) => {\r\n    const updateStatusEnter = React.createRef()\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditeMode = () => {\r\n        setEditMode(false)\r\n        if (!props.status) {\r\n            props.updateProfileStatus(\" \")\r\n        } else {\r\n            props.updateProfileStatus(status)\r\n        }\r\n    }\r\n    const deactivateEditeModeOnBlur = () => {\r\n        setEditMode(false)\r\n        return props.status\r\n    }\r\n    const clickButtonEnten = () => {\r\n        updateStatusEnter.current.addEventListener('keydown', (keyPress) => {\r\n            if (keyPress.keyCode === 13) {\r\n                keyPress.preventDefault()\r\n                deactivateEditeMode()\r\n            }\r\n        }, { once: true })\r\n    }\r\n    const onStatusChange = (e) => {\r\n        clickButtonEnten()\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n    useEffect(() => {\r\n        if (status !== props.status) {\r\n            setStatus(props.status)\r\n        }\r\n    }, [props.status]) \r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n                <div>\r\n                    <span data-testid=\"status\" className={classes.aboutMe__editor} onClick={activateEditMode} >\r\n                        {props.status ? props.status : \" \"}</span>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <input data-testid=\"status-input\" ref={updateStatusEnter}\r\n                        onChange={onStatusChange} autoFocus onBlur={deactivateEditeModeOnBlur}\r\n                        defaultValue={status} maxLength={300} placeholder=' ' type=\"text\" />\r\n                    <div>\r\n                        <button data-testid=\"btn-status\" onClick={deactivateEditeMode}\r\n                            onMouseDown={deactivateEditeMode} type=\"submit\"></button>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatus","import React, { useState } from 'react'\r\nimport userPhoto from '../../../assets/img/user.jpg'\r\nimport './ModalWindow.css'\r\n\r\nconst ModalWindow = ({ active, setEctive, setPhoto, children, profilePhotoLarge }) => {\r\n    const [userImage, setUserPhoto] = useState(null)\r\n\r\n    const deactiveModalWindow = () => {\r\n        if (!profilePhotoLarge && userImage) {\r\n            let photoImg = URL.createObjectURL(userImage)\r\n            setPhoto(photoImg)\r\n        }\r\n        setEctive(!active)\r\n    }\r\n\r\n    return (\r\n        <div className={active ? \"modalWrapper active\" : \"modalWrapper\"} onClick={deactiveModalWindow}>\r\n            <div className=\"closedBtn\" onClick={() => setEctive(!active)}>x</div>\r\n            <div className={active ? \"modalContent active\" : \"modalContent\"} onClick={e => e.stopPropagation()}>\r\n                {userImage && <img src={URL.createObjectURL(userImage)} />}\r\n                {!userImage && <img src={children ? children : userPhoto} />}\r\n                <div className='wrapperFileInput'>\r\n                    <label htmlFor=\"file\" className='labelFileInput'>Loading image</label>\r\n                    <input type=\"file\" id='file' className='fileInput' name=\"file\"\r\n                        onChange={(e) => setUserPhoto(e.target.files[0])}></input>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ModalWindow","import React from \"react\";\r\n\r\nconst Lorem = () => {\r\n    return <div>\r\n        'Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugiat deleniti ipsam veritatis.'\r\n    </div>\r\n}\r\n\r\nexport default Lorem","import classes from './ProfileInfo.module.css';\r\nimport React, { useEffect, useState } from 'react';\r\nimport ProfileStatus from './ProfileStatus/ProfileStatus';\r\nimport userPhoto from '../../../../assets/img/user.jpg'\r\nimport Preloader from '../../../Common/Preloader/Preloader';\r\nimport ModalWindow from '../../../Common/ModalWindow/ModalWindow';\r\nimport Lorem from '../../../Common/Lorem/Lorem';\r\n\r\nconst ProfileInfo = (props) => {\r\n    const [active, setActive] = useState(false)\r\n    const [photo, setPhoto] = useState(null)\r\n\r\n    useEffect(() => {\r\n        if (photo) {\r\n            props.updateProfilePhoto(photo)\r\n        }\r\n    })\r\n\r\n    if (!props.profile) {\r\n        return <Preloader />\r\n    }\r\n\r\n    return (\r\n        <div className={classes.profile__wrapper}>\r\n            <div className={classes.wrapper_img}>\r\n                <img className={classes.profile__img}\r\n                    src={props.profile.photos.large ?? props.urlProfilePhoto ?? userPhoto} onClick={() => setActive(!active)} />\r\n            </div>\r\n            <ModalWindow active={active} setEctive={setActive} setPhoto={setPhoto}\r\n                profilePhotoLarge={props.profile.photos.large} children={props.profile.photos.large} />\r\n            <div className={classes.profile__info}>\r\n                <div className={classes.userName}>{props.profile.fullName}</div>\r\n                <div className={classes.about__user}>{\r\n                    <ProfileStatus /> != null ? <ProfileStatus\r\n                        profile={props.profile}\r\n                        status={props.status}\r\n                        updateProfileStatus={props.updateProfileStatus} /> : <Lorem />}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport Preloader from '../../Common/Preloader/Preloader';\r\nimport AdditionalInformation from '../AdditionalInformation/AdditionalInformation';\r\nimport MyPostsContainer from './MyPost/MyPostContainer';\r\nimport classes from './Profile.module.css';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\nconst Profile = (props) => {\r\n    if (!props.profile) {\r\n        return <Preloader />\r\n    }\r\n    \r\n    return (\r\n        <div className={classes.content}>\r\n            <div className={classes.profile__wrapper}>\r\n                <ProfileInfo profile={props.profile} status={props.status}\r\n                    updateProfileStatus={props.updateProfileStatus} urlProfilePhoto={props.urlProfilePhoto} updateProfilePhoto={props.updateProfilePhoto} />\r\n                <AdditionalInformation profile={props.profile} lookingForAJob={props.lookingForAJob}\r\n                    lookingForAJobDescription={props.lookingForAJobDescription}\r\n                    fullName={props.fullName} contacts={props.contacts} />\r\n                <MyPostsContainer profile={props.profile} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\nimport { withAuthLocation } from '../../../hoc/withAuthLocation';\r\nimport { getProfile, getProfileStatus, updateProfilePhoto, updateProfileStatus } from '../../../Redux/profile-reduser';\r\nimport Profile from './Profile';\r\n\r\nconst ProfileContainer = (props) => {\r\n    let { userId } = useParams()\r\n\r\n    useEffect(() => {\r\n        if (!userId) {\r\n            userId = props.authUserId\r\n            props.getProfile(userId)\r\n            props.getProfileStatus(userId)\r\n        }\r\n        props.getProfile(userId)\r\n        props.getProfileStatus(userId)\r\n    }, [userId])\r\n\r\n    return (\r\n        <Profile {...props} profile={props.profile} status={props.status} updateProfileStatus={props.updateProfileStatus} />\r\n    )\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n    urlProfilePhoto: state.profilePage.urlProfilePhoto\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { getProfile, getProfileStatus, updateProfileStatus, updateProfilePhoto }),\r\n    withAuthLocation\r\n)(ProfileContainer)","const SELECTED_DARK_THEME = 'SELECTED_DARK_THEME'\r\n\r\nconst initialState = {\r\n    isSelectedDarkTheme: null\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nconst settingPageRedusers = (state = initialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n        case SELECTED_DARK_THEME:\r\n            return {\r\n                ...state,\r\n                isSelectedDarkTheme: action.isSelected\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\ntype selectedDarkTheme = {\r\n    type: typeof SELECTED_DARK_THEME\r\n    isSelected: boolean\r\n  }\r\n\r\nexport const selectedDarkTheme = (isSelected: boolean) => ({ type: SELECTED_DARK_THEME, isSelected })\r\n\r\n\r\nexport default settingPageRedusers","import {useState, useLayoutEffect} from 'react'\r\n\r\nexport const useTheme = () => {\r\n    const [theme, setTheme] = useState(\r\n        localStorage.getItem('app-theme')\r\n    )\r\n  \r\n    useLayoutEffect(() => {\r\n      document.documentElement.setAttribute('data-theme', theme)\r\n      localStorage.setItem('app-theme', theme)\r\n    }, [theme])\r\n  \r\n    return { theme, setTheme }\r\n}","import React, { useState, useEffect, useLayoutEffect } from 'react'\r\nimport { useTheme } from '../useTheme/useTheme'\r\nimport './SwitchInput.css'\r\n\r\nconst SwitchInput = ({ isSelected, selectedDarkTheme }) => {\r\n  const { theme, setTheme } = useTheme()\r\n\r\n  const handleClick = () => {\r\n    selectedDarkTheme(!isSelected)\r\n  }\r\n  useEffect(() => {\r\n    if (isSelected) {\r\n      setTheme('dark')\r\n    } else {\r\n      setTheme('light')\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div className='wrapperSwitchInput'>\r\n      <fieldset>\r\n        <input type=\"checkbox\" id=\"switch\" onClick={handleClick} defaultChecked={!!isSelected} />\r\n        <label htmlFor=\"switch\">Toggle</label>\r\n      </fieldset>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SwitchInput","import React from 'react'\r\nimport SwitchInput from '../../Common/switchInput/SwitchInput'\r\nimport { useTheme } from '../../Common/useTheme/useTheme'\r\nimport classes from './SettingComponent.module.css'\r\n\r\nconst SettingComponent = ({ isSelected, selectedDarkTheme }) => {\r\n    const { theme, setTheme } = useTheme()\r\n    \r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <h2>Settings:</h2>\r\n            <div className={classes.wrapperFields}>\r\n                <fieldset>\r\n                    <span>Dark theme:</span>\r\n                    <div className={classes.inputLabel}>\r\n                        <SwitchInput isSelected={isSelected} selectedDarkTheme={selectedDarkTheme} />\r\n                    </div>\r\n                </fieldset>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SettingComponent","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport { withAuthLocation } from '../../../hoc/withAuthLocation'\r\nimport { selectedDarkTheme } from '../../../Redux/settingComponent-reduser'\r\nimport SettingComponent from './SettingComponent'\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isSelected: state.settingPage.isSelectedDarkTheme\r\n    }\r\n}\r\n\r\nconst SettingCompContainer = compose(connect(mapStateToProps, {selectedDarkTheme}), withAuthLocation)(SettingComponent)\r\n\r\nexport default SettingCompContainer","import React from \"react\";\r\nimport Paginator from \"../../Common/Paginator/Paginator\";\r\nimport User from \"./User/User\";\r\n\r\nconst Users = (props) => {\r\n    return <div>\r\n        {props.users.map(u => <User user={u} key={u.id} followed={props.followed} followingInProgress={props.followingInProgress}\r\n                                    unfollow={props.unfollow} follow={props.follow} />)}\r\n        <Paginator totalUsersCount={props.totalUsersCount} pageSize={props.pageSize} \r\n                   currentPage={props.currentPage} onPageChanged={props.onPageChanged} />\r\n    </div>\r\n}\r\n\r\nexport default Users;","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { withAuthLocation } from \"../../../hoc/withAuthLocation\";\r\nimport { follow, requestGetUsers, setCurrentPageUsers, toggleFollowingProgress, unfollow } from \"../../../Redux/users-reduser\";\r\nimport { getCurrentPageUsers, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsers } from \"../../../Redux/users-selector\";\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport Users from './Users';\r\n\r\nconst UsersContainer = (props) => {\r\n    useEffect(() => {\r\n        props.requestGetUsers(props.currentPage, props.pageSize)\r\n    }, [])\r\n    const onPageChanged = (pageNumber) => {\r\n        props.requestGetUsers(pageNumber, props.pageSize)\r\n    }\r\n\r\n    return (<>\r\n        <a name='top'></a>\r\n        {props.isFetching ? <Preloader /> : <Users\r\n            totalUsersCount={props.totalUsersCount}\r\n            pageSize={props.pageSize}\r\n            users={props.users}\r\n            unfollow={props.unfollow}\r\n            follow={props.follow}\r\n            onPageChanged={onPageChanged}\r\n            currentPage={props.currentPage}\r\n            followingInProgress={props.followingInProgress} />}\r\n    </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPageUsers(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default\r\n    compose(\r\n        connect(mapStateToProps,\r\n            {\r\n                setCurrentPageUsers,\r\n                toggleFollowingProgress,\r\n                requestGetUsers,\r\n                follow,\r\n                unfollow\r\n            }), withAuthLocation)(UsersContainer)","import React from 'react';\r\nimport { Route, Routes } from 'react-router-dom';\r\nimport '../App.css';\r\nimport HeaderContainer from '../components/Dekstop/Header/HeaderContainer';\r\nimport LoginPageContainer from '../components/Dekstop/LoginPage/LoginPageContainer';\r\nimport MessagesContainer from '../components/Dekstop/Messages/MessagesContainer';\r\nimport MyFriendsContainer from '../components/Dekstop/MyFriends/MyFriendsContainer';\r\nimport Nav from '../components/Dekstop/Nav/Nav';\r\nimport ProfileContainer from '../components/Dekstop/Profile/ProfileContainer';\r\nimport SettingCompContainer from '../components/Dekstop/Setting Component/SettingCompContainer';\r\nimport UsersContainer from '../components/Dekstop/Users/UsersContainer';\r\n\r\nconst DesktopView = ({ isAuth, authUserId }) => {\r\n    return (\r\n        <div className=\"app-wrapper\">\r\n            <HeaderContainer />\r\n            {isAuth && <Nav authUserId={authUserId} />}\r\n            <Routes>\r\n                <Route path='/login' element={ <LoginPageContainer /> } />\r\n            </Routes>\r\n            <div className='app-wrapper-content'>\r\n                <Routes>\r\n                    {/* <Route path='/' element={<Navigate to='/profile' />} /> */}\r\n                    <Route path='/profile' element={ <ProfileContainer /> } >\r\n                        <Route path=':userId' element={ <ProfileContainer /> } />\r\n                    </Route>\r\n                    <Route path='/messages/*' element={ <MessagesContainer /> } />\r\n                    <Route path='/users' element={ <UsersContainer /> } />\r\n                    <Route path='/friends' element={ <MyFriendsContainer /> } />\r\n                    <Route path='/settings' element={ <SettingCompContainer /> } />\r\n                </Routes>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DesktopView","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport AuthComponent from '../../AuthComponent/AuthComponent'\r\nimport classes from './Nav.module.css'\r\n\r\nconst Nav = ({ open, openNavMenu }) => {\r\n    return (\r\n        <div className={classes.wrapper_nav}>\r\n            <div className={classes.wrapper_auth}><AuthComponent /></div>\r\n            <nav className={classes.nav}>\r\n                <div className={classes.link}>\r\n                    <NavLink onClick={() => { openNavMenu(false) }}\r\n                        className={navData => navData.isActive ? classes.active : classes.item} to=\"/profile\">Profile</NavLink>\r\n                </div>\r\n                <div className={classes.link}>\r\n                    <NavLink onClick={() => { openNavMenu(false) }}\r\n                        className={navData => navData.isActive ? classes.active : classes.item} to=\"/messages\">Messages</NavLink>\r\n                </div>\r\n                <div className={classes.link}>\r\n                    <NavLink onClick={() => { openNavMenu(false) }}\r\n                        className={navData => navData.isActive ? classes.active : classes.item} to=\"/users\">Users</NavLink>\r\n                </div>\r\n                <div className={classes.link}>\r\n                    <NavLink onClick={() => { openNavMenu(false) }}\r\n                        className={navData => navData.isActive ? classes.active : classes.item} to=\"/friends\">My Friends</NavLink>\r\n                </div>\r\n                <div className={classes.line}></div>\r\n                <div className={classes.link}>\r\n                    <NavLink onClick={() => { openNavMenu(false) }}\r\n                        className={navData => navData.isActive ? classes.active : classes.item} to=\"/settings\">My Settings</NavLink>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Nav","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { openNavMenu } from '../../../Redux/Mobile/header-reduser'\r\nimport Nav from './Nav'\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    open: state.mobHeader.isOpenNavMenu\r\n  }\r\n}\r\n\r\nconst NavContainer = connect(mapStateToProps, {openNavMenu})(Nav)\r\n\r\nexport default NavContainer","import React from 'react';\r\nimport NavContainer from '../Nav/NavContainer';\r\nimport classes from './Header.module.css';\r\n\r\nconst Header = ({ openNavMenu, open }) => {\r\n\r\n    return (\r\n        <>\r\n            <div className={classes.wrapper}>\r\n                \r\n                <div className={open ? classes.open : classes.burger_menu}>\r\n                    <span onClick={() => openNavMenu(!open)}>Menu</span>\r\n                </div>\r\n                <div className={open ? classes.menu_open : classes.menu_closed}>\r\n                    <NavContainer />\r\n                </div>\r\n                <div className={classes.logo}>\r\n                    <p>Social </p>\r\n                    <p className={classes.logo__text}> NET</p>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { openNavMenu } from '../../../Redux/Mobile/header-reduser'\r\nimport Header from './Header'\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        open: state.mobHeader.isOpenNavMenu\r\n    }\r\n}\r\n\r\nconst HeaderContainer = connect(mapStateToProps, {openNavMenu})(Header)\r\n\r\nexport default HeaderContainer","import React from \"react\";\r\nimport { reduxForm } from \"redux-form\";\r\nimport { required } from \"../../../../utils/validators/validators\";\r\nimport { createField, Input } from \"../../../Common/formsControls/formControls\";\r\nimport classes from \"../Login.module.css\";\r\n\r\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\r\n    return (\r\n        <div className={error ? classes.formSummaryError : classes.form}>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className={classes.titleLogin}>\r\n                    <p className={classes.loginTitle}>LOGIN</p>\r\n                </div>\r\n                {createField('Email', \"email\", [required], Input)}\r\n                {createField(\"Password\", \"password\", [required], Input, { type: \"password\" })}\r\n                {createField(null, \"rememberMe\", [], Input, { type: \"checkbox\" }, \"Remember Me\")}\r\n\r\n                {captchaUrl && <img className={classes.imgCaptcha} src={captchaUrl} />}\r\n                {captchaUrl && createField(\"Symbols from image\", \"captcha\", [required], Input, {})}\r\n                <div className={classes.submit}>\r\n                    <button className={classes.loginBtn}>Log In</button>\r\n                    <span className={classes.error}>{error && <div> {error} </div>}</span>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\r\n\r\nexport default LoginReduxForm","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { login } from \"../../../Redux/auth-reduser\";\r\nimport classes from \"./Login.module.css\";\r\nimport LoginReduxForm from \"./LoginForm/LoginForm\";\r\n\r\nconst LoginPage = (props) => {\r\n\r\n    if (props.isAuth) {\r\n        return <Navigate replace to={\"/profile\"} />\r\n    }\r\n    \r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.wrapperLoginPage}>\r\n            <div className={classes.wrapperForm}>\r\n                <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(null, { login })(LoginPage)","import { connect } from \"react-redux\";\r\nimport LoginPage from \"./Login\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        isFetching: state.usersPage.isFetching,\r\n        profile: state.profilePage.profile,\r\n        captchaUrl: state.auth.captchaUrl\r\n    }\r\n}\r\n\r\nconst LoginPageContainer = connect(mapStateToProps)(LoginPage)\r\n\r\nexport default LoginPageContainer","import React from 'react'\r\nimport classes from './Messages.module.css'\r\n\r\nconst Messages = () => {\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <div className={classes.wrapper_dev}>\r\n                <h2 className={classes.dev}>Currently under development</h2>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Messages","import React from \"react\"\r\nimport { NavLink } from \"react-router-dom\";\r\nimport classes from \"../Users.module.css\";\r\nimport userPhoto from '../../../../assets/img/user.jpg'\r\n\r\nconst User = (props) => {\r\n\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <div className={classes.wrapper__avatar}>\r\n                <div>\r\n                    <NavLink to={\"/profile/\" + props.user.id}>\r\n                        <img className={classes.avatar} src={props.user.photos.small != null ? props.user.photos.small : userPhoto} />\r\n                    </NavLink>\r\n                </div>\r\n                <div className={classes.btn__wrapper}>\r\n                    {props.user.followed ? <button disabled={props.followingInProgress.some(id => id === props.user.id)}\r\n                        className={classes.btn__unfollow} onClick={() => { props.unfollow(props.user) }}>Unfollow</button>\r\n                        : <button disabled={props.followingInProgress.some(id => id === props.user.id)}\r\n                            className={classes.btn__follow} onClick={() => { props.follow(props.user) }}>Follow</button>}\r\n                </div>\r\n            </div>\r\n            <div className={classes.wrapper__info}>\r\n                <div>\r\n                    <div className={classes.nickName}>\r\n                        <NavLink to={\"/profile/\" + props.user.id} className={classes.userName__link}>{props.user.name}</NavLink>\r\n                    </div>\r\n                    <div className={classes.status}>{props.user.status}</div>\r\n                </div>\r\n                <div className={classes.location}>\r\n                    <div>{/*u.location.country*/ \"USA,\"}</div>\r\n                    <div>{/*\"u.location.city\"*/ \"New York\"}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User","import React from 'react';\r\nimport Paginator from '../../Common/Paginator/Paginator';\r\nimport User from '../Users/User/User';\r\n\r\nconst MyFriends = ({ users, followed, followingInProgress, follow, unfollow,\r\n    onPageChanged, pageSize, totalUsersCount, currentPage }) => {\r\n    return (\r\n        <div>\r\n            {users.map(f => <User user={f} key={f.id} followed={followed} followingInProgress={followingInProgress}\r\n                unfollow={unfollow} follow={follow} />)}\r\n            <Paginator totalUsersCount={totalUsersCount} pageSize={pageSize}\r\n                currentPage={currentPage} onPageChanged={onPageChanged} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyFriends","import React, { useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport { withAuthLocation } from '../../../hoc/withAuthLocation'\r\nimport { follow, requestGetFriendUsers, setCurrentPageFriends, toggleFollowingProgress, unfollow } from '../../../Redux/users-reduser'\r\nimport { getCurrentPageFriends, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsersArray } from '../../../Redux/users-selector'\r\nimport Preloader from '../../Common/Preloader/Preloader'\r\nimport MyFriends from './MyFriends'\r\n\r\nconst MyFriendsContainer = ({ users, currentPage, pageSize, requestGetFriendUsers, follow, unfollow, isFetching,\r\n    totalUsersCount, followingInProgress }) => {\r\n\r\n    useEffect(() => {\r\n        requestGetFriendUsers(currentPage, pageSize)\r\n    }, [])\r\n    const onPageChanged = (pageNumber) => {\r\n        requestGetFriendUsers(pageNumber, pageSize)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <a name='top'></a>\r\n            {isFetching ? <Preloader /> :\r\n                <MyFriends\r\n                    totalUsersCount={totalUsersCount}\r\n                    pageSize={pageSize}\r\n                    users={users}\r\n                    unfollow={unfollow}\r\n                    follow={follow}\r\n                    onPageChanged={onPageChanged}\r\n                    currentPage={currentPage}\r\n                    followingInProgress={followingInProgress} />\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    users: getUsersArray(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPageFriends(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n})\r\n\r\nexport default\r\n    compose(\r\n        connect(mapStateToProps,\r\n            {\r\n                setCurrentPageFriends,\r\n                requestGetFriendUsers,\r\n                toggleFollowingProgress,\r\n                follow,\r\n                unfollow\r\n            }), withAuthLocation)(MyFriendsContainer)","import React, { useState } from 'react';\r\nimport classes from './AdditionalInformation.module.css';\r\n\r\nconst AdditionalInformation = (props) => {\r\n    const [editMode, setEditMode] = useState(false)\r\n\r\n    const activetedMode = () => {\r\n        setEditMode(!editMode)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.wrapperAddInf}>\r\n            <div>\r\n                <p>\r\n                    <b>looking for a Job:</b>\r\n                    <span>{props.profile.lookingForAJob ? \"Yes\" : \"No\"}</span>\r\n                </p>\r\n            </div>\r\n            {props.profile.lookingForAJob &&\r\n                <div>\r\n                    <p>\r\n                        <b>My profissional skill:</b>\r\n                        <span>{props.profile.lookingForAJobDescription}</span>\r\n                    </p>\r\n                </div>\r\n            }\r\n            <div>\r\n                <p>\r\n                    <b>Full name:</b> \r\n                    <span>{props.profile.fullName}</span>\r\n                    </p>\r\n            </div>\r\n            <div className={classes.wrapperContacts}>\r\n                <b className={classes.wrapperMode}>Contacts:</b>\r\n                <span onClick={activetedMode}>\r\n                    <p className={editMode ? classes.editModeActive : null}>&#5125;</p>\r\n                </span>\r\n                {editMode && Object.keys(props.profile.contacts).map(key => {\r\n                    return <Contact key={key} contactTitle={key}\r\n                        contactValue={props.profile.contacts[key]} />\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Contact = (props) => {\r\n\r\n    return (\r\n        <div className={classes.wrapperContact}>\r\n            <p><b>{props.contactTitle}:</b> {!props.contactValue ? \"-\" : props.contactValue}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AdditionalInformation","import React, { useState } from 'react';\r\nimport userPhoto from '../../../../assets/img/user.jpg';\r\nimport classes from './Posts.module.css';\r\n\r\nconst Posts = (props) => {\r\n    const [isDelete, setIsDelete] = useState(false)\r\n\r\n    const handleClick = (e) => {\r\n        setIsDelete(!isDelete)\r\n        props.deletePost(isDelete)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            {props.posts.map((post, id, isDelete) => (\r\n                <ul key={id}>\r\n                    <li>\r\n                        <div className={classes.post}>\r\n                            <div className={classes.avatar}>\r\n                                <img src={props.profile.photos.small != null ? props.profile.photos.small : userPhoto} />\r\n                            </div>\r\n                            <div className={classes.text}>\r\n                                {post.message}\r\n                                <span className={classes.deleteBtn} onClick={() => props.deletePost(!isDelete)}>x</span>\r\n                            </div>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Posts;","import React, { useRef, useState } from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { maxLengthCreator, required } from \"../../../../../utils/validators/validators\";\r\nimport { Textarea } from \"../../../../Common/formsControls/formControls\";\r\nimport classes from \"../MyPost.module.css\";\r\n\r\nconst maxLength200 = maxLengthCreator(200)\r\n\r\nconst MyPostForm = (props) => {\r\n    const [text, setText] = useState('')\r\n    const refForm = useRef()\r\n\r\n    return (\r\n        <div>\r\n            <form ref={refForm} onSubmit={props.handleSubmit}>\r\n                <div className={classes.textarea__wrapper}>\r\n                    <Field component={Textarea} name=\"newPostText\" className={classes.textarea}\r\n                        validate={[required, maxLength200]} placeholder={\"Post message\"}\r\n                            value={text} onChange={e => setText(e.target.value)} />\r\n                    {/* { createField(\"Post message\", \"newPostText\", [required], Textarea, {}) } */}\r\n                </div>\r\n                <div className={classes.btn__wrapper}>\r\n                    <button className={classes.btn} type=\"submit\">Post</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const MyPostReduxForm = reduxForm({ form: \"addMyPostForm\" })(MyPostForm)","import React from 'react';\r\nimport Preloader from '../../../Common/Preloader/Preloader';\r\nimport Posts from '../Posts/Posts';\r\nimport classes from './MyPost.module.css';\r\nimport { MyPostReduxForm } from './MyPostForm/MyPostForm';\r\n\r\nconst MyPosts = (props) => {\r\n\r\n    const onPostMessage = (values) => {\r\n        if (values.newPostText) {\r\n            props.addPost(values.newPostText, props.id)\r\n            values.newPostText = ''\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <MyPostReduxForm onSubmit={onPostMessage} addPost={props.addPost} newPostText={props.newPostText} />\r\n            <h2>Posts:</h2>\r\n            <div className={classes.posts}>\r\n                {props.isFetching ?\r\n                    <Posts posts={props.posts} id={props.id} deletePost={props.deletePost} profile={props.profile} idPost={props.idPost} />\r\n                    : <Preloader />}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyPosts;","import { connect } from 'react-redux';\r\nimport { addPostAC, deletePost } from '../../../../Redux/profile-reduser';\r\nimport MyPosts from './MyPost';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText,\r\n        profile: state.profilePage.profile,\r\n        isFetching: state.profilePage.isFetching\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText, id) => {\r\n            dispatch(addPostAC(newPostText, id));\r\n        },\r\n        deletePost: (isDelete) => {\r\n            dispatch(deletePost(isDelete))\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;","import React, { useEffect, useState } from \"react\";\r\nimport classes from \"./ProfileStatus.module.css\"\r\n\r\nconst ProfileStatus = (props) => {\r\n    const updateStatusEnter = React.createRef()\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditeMode = () => {\r\n        setEditMode(false)\r\n        if (!props.status) {\r\n            props.updateProfileStatus(\" \")\r\n        } else {\r\n            props.updateProfileStatus(status)\r\n        }\r\n    }\r\n    const deactivateEditeModeOnBlur = () => {\r\n        setEditMode(false)\r\n        return props.status\r\n    }\r\n    const clickButtonEnten = () => {\r\n        updateStatusEnter.current.addEventListener('keydown', (keyPress) => {\r\n            if (keyPress.keyCode === 13) {\r\n                keyPress.preventDefault()\r\n                deactivateEditeMode()\r\n            }\r\n        }, { once: true })\r\n    }\r\n    const onStatusChange = (e) => {\r\n        clickButtonEnten()\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n    useEffect(() => {\r\n        if (status !== props.status) {\r\n            setStatus(props.status)\r\n        }\r\n    }, [props.status]) \r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n                <div>\r\n                    <span data-testid=\"status\" className={classes.aboutMe__editor} onClick={activateEditMode} >\r\n                        {props.status ? props.status : \" \"}</span>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <input data-testid=\"status-input\" ref={updateStatusEnter}\r\n                        onChange={onStatusChange} autoFocus onBlur={deactivateEditeModeOnBlur}\r\n                        defaultValue={status} maxLength={300} placeholder=' ' type=\"text\" />\r\n                    <div>\r\n                        <button data-testid=\"btn-status\" onClick={deactivateEditeMode}\r\n                            onMouseDown={deactivateEditeMode} type=\"submit\"></button>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatus","import classes from './ProfileInfo.module.css';\r\nimport React, { useEffect, useState } from 'react';\r\nimport ProfileStatus from './ProfileStatus/ProfileStatus';\r\nimport userPhoto from '../../../../assets/img/user.jpg'\r\nimport ModalWindow from '../../../Common/ModalWindow/ModalWindow';\r\nimport Lorem from '../../../Common/Lorem/Lorem';\r\nimport Preloader from '../../../Common/Preloader/Preloader';\r\n\r\nconst ProfileInfo = ({ updateProfilePhoto, profile, urlProfilePhoto, status, updateProfileStatus }) => {\r\n    const [active, setActive] = useState(false)\r\n    const [photo, setPhoto] = useState(null)\r\n\r\n    useEffect(() => {\r\n        if (photo) {\r\n            updateProfilePhoto(photo)\r\n        }\r\n    })\r\n\r\n    if (!profile) {\r\n        return <Preloader />\r\n    }\r\n\r\n    return (\r\n        <div className={classes.profile__wrapper}>\r\n            <div className={classes.profile__info}>\r\n                <div className={classes.userName}>{profile.fullName}</div>\r\n                <div className={classes.about__user}>{\r\n                    <ProfileStatus /> != null ? <ProfileStatus\r\n                        profile={profile}\r\n                        status={status}\r\n                        updateProfileStatus={updateProfileStatus} /> : <Lorem />}\r\n                </div>\r\n            </div>\r\n            <div className={classes.wrapper_img}>\r\n                <img className={classes.profile__img}\r\n                    src={profile.photos.large ?? urlProfilePhoto ?? userPhoto} onClick={() => setActive(!active)} />\r\n            </div>\r\n            <ModalWindow active={active} setEctive={setActive} setPhoto={setPhoto}\r\n                profilePhotoLarge={profile.photos.large} children={profile.photos.large} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react'\r\nimport Preloader from '../../Common/Preloader/Preloader'\r\nimport AdditionalInformation from './AdditionalInformation/AdditionalInformation'\r\nimport MyPostsContainer from './MyPost/MyPostContainer'\r\nimport classes from './Profile.module.css'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\n\r\nconst Profile = ({ profile, status, authUserId, isAuth, urlProfilePhoto, getProfile,\r\n                updateProfileStatus, getProfileStatus, updateProfilePhoto, lookingForAJob,\r\n                lookingForAJobDescription, fullName, contacts }) => {\r\n  if (!profile) {\r\n    return <Preloader />\r\n  }\r\n\r\n  return (\r\n    <div className={classes.profile__wrapper}>\r\n      <ProfileInfo profile={profile} status={status}\r\n        updateProfileStatus={updateProfileStatus} urlProfilePhoto={urlProfilePhoto} updateProfilePhoto={updateProfilePhoto} />\r\n      <AdditionalInformation profile={profile} lookingForAJob={lookingForAJob}\r\n        lookingForAJobDescription={lookingForAJobDescription}\r\n        fullName={fullName} contacts={contacts} />\r\n      <MyPostsContainer profile={profile} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile","import React, {useEffect} from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { useParams } from 'react-router-dom';\r\nimport { compose } from \"redux\";\r\nimport { withAuthLocation } from '../../../hoc/withAuthLocation'\r\nimport { getProfile, getProfileStatus, updateProfilePhoto, updateProfileStatus } from '../../../Redux/profile-reduser';\r\nimport Profile from './Profile'\r\n\r\nconst ProfileContainer = ({ profile, status, updateProfileStatus, authUserId, getProfile, getProfileStatus }) => {\r\n\r\n  let { userId } = useParams()\r\n\r\n  useEffect(() => {\r\n    if (!userId) {\r\n      userId = authUserId\r\n      getProfile(userId)\r\n      getProfileStatus(userId)\r\n    }\r\n    getProfile(userId)\r\n    getProfileStatus(userId)\r\n  }, [userId])\r\n\r\n  return (\r\n    <Profile profile={profile} status={status} updateProfileStatus={updateProfileStatus} />\r\n  )\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth,\r\n  urlProfilePhoto: state.profilePage.urlProfilePhoto\r\n})\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getProfile, getProfileStatus, updateProfileStatus, updateProfilePhoto }),\r\n  withAuthLocation\r\n)(ProfileContainer)","import React from 'react'\r\nimport SwitchInput from '../../Common/switchInput/SwitchInput'\r\nimport { useTheme } from '../../Common/useTheme/useTheme'\r\nimport classes from './Settings.module.css'\r\n\r\nconst SettingComponent = ({ isSelected, selectedDarkTheme }) => {\r\n    const { theme, setTheme } = useTheme()\r\n    \r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <h2>Settings:</h2>\r\n            <div className={classes.wrapperFields}>\r\n                <fieldset>\r\n                    <span>Dark theme:</span>\r\n                    <div className={classes.inputLabel}>\r\n                        <SwitchInput isSelected={isSelected} selectedDarkTheme={selectedDarkTheme} />\r\n                    </div>\r\n                </fieldset>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SettingComponent","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport { withAuthLocation } from '../../../hoc/withAuthLocation'\r\nimport { selectedDarkTheme } from '../../../Redux/settingComponent-reduser'\r\nimport SettingComponent from './Settings'\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isSelected: state.settingPage.isSelectedDarkTheme\r\n    }\r\n}\r\n\r\nconst SettingCompContainer = compose(connect(mapStateToProps, {selectedDarkTheme}), withAuthLocation)(SettingComponent)\r\n\r\nexport default SettingCompContainer","import React from \"react\";\r\nimport Paginator from \"../../Common/Paginator/Paginator\";\r\nimport User from \"./User/User\";\r\nimport classes from './Users.module.css'\r\n\r\nconst Users = (props) => {\r\n    return <div className={classes.wrapper_users}>\r\n        {props.users.map(u => <User user={u} key={u.id} followed={props.followed} followingInProgress={props.followingInProgress}\r\n                                    unfollow={props.unfollow} follow={props.follow} />)}\r\n        <Paginator totalUsersCount={props.totalUsersCount} pageSize={props.pageSize} \r\n                   currentPage={props.currentPage} onPageChanged={props.onPageChanged} />\r\n    </div>\r\n}\r\n\r\nexport default Users;","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { withAuthLocation } from \"../../../hoc/withAuthLocation\";\r\nimport { follow, requestGetUsers, setCurrentPageUsers, toggleFollowingProgress, unfollow } from \"../../../Redux/users-reduser\";\r\nimport { getCurrentPageUsers, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsers } from \"../../../Redux/users-selector\";\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport Users from './Users';\r\n\r\nconst UsersContainer = (props) => {\r\n    useEffect(() => {\r\n        props.requestGetUsers(props.currentPage, props.pageSize)\r\n    }, [])\r\n    const onPageChanged = (pageNumber) => {\r\n        props.requestGetUsers(pageNumber, props.pageSize)\r\n    }\r\n\r\n    return (<>\r\n        <a name='top'></a>\r\n        {props.isFetching ? <Preloader /> : <Users\r\n            totalUsersCount={props.totalUsersCount}\r\n            pageSize={props.pageSize}\r\n            users={props.users}\r\n            unfollow={props.unfollow}\r\n            follow={props.follow}\r\n            onPageChanged={onPageChanged}\r\n            currentPage={props.currentPage}\r\n            followingInProgress={props.followingInProgress} />}\r\n    </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPageUsers(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default\r\n    compose(\r\n        connect(mapStateToProps,\r\n            {\r\n                setCurrentPageUsers,\r\n                toggleFollowingProgress,\r\n                requestGetUsers,\r\n                follow,\r\n                unfollow\r\n            }), withAuthLocation)(UsersContainer)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Route, Routes } from 'react-router-dom'\r\nimport HeaderContainer from '../components/Mobile/Header/HeaderContainer'\r\nimport LoginPageContainer from '../components/Mobile/Login Page/LoginContainer'\r\nimport LoginReduxForm from '../components/Mobile/Login Page/LoginForm/LoginForm'\r\nimport Messages from '../components/Mobile/Messages/Messages'\r\nimport MyFriendsContainer from '../components/Mobile/My Friends/MyFriendsContainer'\r\nimport NavContainer from '../components/Mobile/Nav/NavContainer'\r\nimport ProfileContainer from '../components/Mobile/Profile/ProfileContainer'\r\nimport SettingCompContainer from '../components/Mobile/Settins Component/SettingsContainer'\r\nimport UsersContainer from '../components/Mobile/Users/UsersContainer'\r\nimport classes from './Mobile.module.css'\r\n\r\nconst MobileView = ({ open }) => {\r\n  return (\r\n    <div className={classes.wrapper_app}>\r\n      <header className={classes.header}>\r\n        <HeaderContainer />\r\n      </header>\r\n      <main className={classes.content}>\r\n        <Routes>\r\n          <Route path='/profile' element={<ProfileContainer />} >\r\n            <Route path=':userId' element={<ProfileContainer />} />\r\n          </Route>\r\n          <Route path='/messages' element={<Messages />} />\r\n          <Route path='/users' element={<UsersContainer />} />\r\n          <Route path='/friends' element={<MyFriendsContainer />} />\r\n          <Route path='/settings' element={<SettingCompContainer />} />\r\n          <Route path='/login' element={<LoginPageContainer />} />\r\n        </Routes>\r\n      </main>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    open: state.mobHeader.isOpenNavMenu\r\n  }\r\n}\r\n\r\nconst MobileViewCont = connect(mapStateToProps)(MobileView)\r\n\r\nexport default MobileViewCont","import React from 'react'\r\n\r\nconst TabletView = () => {\r\n  return (\r\n    <div>TabletView</div>\r\n  )\r\n}\r\n\r\nexport default TabletView","import { getAuthUserData } from \"./auth-reduser\"\r\n\r\nconst INITIALIZED__ACCESS = \"INITIALIZED__ACCESS\" \r\n\r\nexport type InitialStateType = {\r\n    initialized: boolean\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n    initialized: false\r\n}\r\n\r\nconst appReduser = (state = initialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n        case INITIALIZED__ACCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\ntype InitializedSuccessType = {\r\n    type: typeof INITIALIZED__ACCESS\r\n}\r\nexport const initializedSuccess = (): InitializedSuccessType => ({ type: INITIALIZED__ACCESS })\r\n\r\nexport const initializeApp = () => (dispatch: any) => {\r\n    let promise = dispatch(getAuthUserData())\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess())  \r\n        })\r\n}\r\n\r\nexport default appReduser","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport authReduser from \"./auth-reduser\";\r\nimport dialogsReducer from \"./dialogs-reduser\";\r\nimport profileReducer from \"./profile-reduser\";\r\nimport usersReduser from \"./users-reduser\";\r\nimport thankMiddleware from \"redux-thunk\";\r\nimport { reducer as formReduser } from \"redux-form\";\r\nimport appReduser from \"./app-reduser\";\r\nimport { composeWithDevTools } from \"@redux-devtools/extension\";\r\nimport settingPageRedusers from \"./settingComponent-reduser\";\r\nimport persistReducer from \"redux-persist/es/persistReducer\";\r\nimport persistStore from \"redux-persist/es/persistStore\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport headerRedusers from \"./Mobile/header-reduser\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReduser,\r\n    settingPage: settingPageRedusers,\r\n    auth: authReduser,\r\n    form: formReduser,\r\n    app: appReduser,\r\n    mobHeader: headerRedusers\r\n})\r\n\r\nconst persistConfig = {\r\n    key: 'root',\r\n    storage: storage,\r\n    whitelist: ['settingPage', 'dialogsPage', 'profilePage']\r\n};\r\nconst pReducer = persistReducer(persistConfig, reducers);\r\n\r\nexport let store = createStore(pReducer,\r\n    composeWithDevTools(applyMiddleware(thankMiddleware)))\r\n\r\nexport const persistor = persistStore(store)","import React, { useEffect } from 'react';\r\nimport { connect, Provider } from 'react-redux';\r\nimport { useMediaQuery } from 'react-responsive';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport DesktopView from './adaptiveComponents/DesktopView';\r\nimport MobileViewCont from './adaptiveComponents/MobileView';\r\nimport MobileView from './adaptiveComponents/MobileView';\r\nimport TabletView from './adaptiveComponents/TabletView';\r\nimport './App.css';\r\nimport Preloader from './components/Common/Preloader/Preloader';\r\nimport { useTheme } from './components/Common/useTheme/useTheme';\r\nimport { initializeApp } from './Redux/app-reduser';\r\nimport { persistor, store } from './Redux/redux-store';\r\n\r\nconst App = ({ isAuth, authUserId, initializeApp, initialize }) => {\r\n\r\n  const isDesktop = useMediaQuery({\r\n    query: \"(min-width: 1024px)\"\r\n  })\r\n\r\n  const isMobile = useMediaQuery({\r\n    query: \"(max-width: 786px)\"\r\n  })\r\n\r\n  const isPortrait = useMediaQuery({\r\n    query: \"(orientation: portrait)\"\r\n  });\r\n\r\n  const isTablet = useMediaQuery({\r\n    query: \"(max-width: 1224px)\"\r\n  })\r\n\r\n  const isRetina = useMediaQuery({\r\n    query: \"(max-resolution: 300dpi)\"\r\n  });\r\n\r\n  const { theme, setTheme } = useTheme()\r\n\r\n  useEffect(() => {\r\n    initializeApp()\r\n  }, [])\r\n\r\n  if (!initialize) {\r\n    return <Preloader />\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {\r\n        isDesktop && <DesktopView isAuth={isAuth} authUserId={authUserId} />\r\n        || isMobile && <MobileViewCont />\r\n        || isTablet && <TabletView />\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialize: state.app.initialized,\r\n  authUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nconst AppContainer = connect(mapStateToProps, { initializeApp })(App);\r\n\r\nconst AppSocialNet = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Provider store={store}>\r\n        <PersistGate loading={<AppContainer />} persistor={persistor}>\r\n          <AppContainer />\r\n        </PersistGate>\r\n      </Provider>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\nexport default AppSocialNet","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport AppSocialNet from './App';\r\nimport './index.css';\r\n\r\nReactDOM.render(<AppSocialNet />, document.getElementById('root'));","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MyPost_wrapper__3QE7p\",\"textarea\":\"MyPost_textarea__34Cz3\",\"btn__wrapper\":\"MyPost_btn__wrapper__3WtTe\",\"btn\":\"MyPost_btn__3iPP4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MyPost_wrapper__1dF4r\",\"textarea\":\"MyPost_textarea__3n1Ie\",\"btn__wrapper\":\"MyPost_btn__wrapper__KEPUU\",\"btn\":\"MyPost_btn__27yjB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Header_wrapper__2BafV\",\"logo\":\"Header_logo__2-1kw\",\"logo__text\":\"Header_logo__text__3gpOp\",\"burger_menu\":\"Header_burger_menu__3aPEf\",\"open\":\"Header_open__o_X3Z\",\"menu_closed\":\"Header_menu_closed__2sLWv\",\"menu_open\":\"Header_menu_open__1fM9d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login__block\":\"AuthComponent_login__block__3ElpX\",\"login__form\":\"AuthComponent_login__form__3nhBx\",\"login\":\"AuthComponent_login__2QJvm\",\"btn__logout\":\"AuthComponent_btn__logout__mgB8v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formError\":\"formControls_formError__2R1WC\",\"rememberMe\":\"formControls_rememberMe__91V_p\",\"fieldControl\":\"formControls_fieldControl__1DfjU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__2RV8R\",\"numberPage\":\"Paginator_numberPage__3FpNz\",\"wrapperPage\":\"Paginator_wrapperPage__38qzO\",\"wrapperPrev\":\"Paginator_wrapperPrev__11reI\",\"portion\":\"Paginator_portion__2Y7Bx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile__img\":\"ProfileInfo_profile__img__1YHz5\",\"profile__wrapper\":\"ProfileInfo_profile__wrapper__1lM38\",\"profile__info\":\"ProfileInfo_profile__info___2-E8\",\"about__user\":\"ProfileInfo_about__user__2PAIS\",\"userName\":\"ProfileInfo_userName__2xcoE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile__img\":\"ProfileInfo_profile__img__1kb69\",\"profile__wrapper\":\"ProfileInfo_profile__wrapper__28OfH\",\"profile__info\":\"ProfileInfo_profile__info__JgXxF\",\"about__user\":\"ProfileInfo_about__user__Oewuv\",\"userName\":\"ProfileInfo_userName__2LGdG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header__wrapper\":\"Header_header__wrapper__3sQw5\",\"header\":\"Header_header__iukPu\",\"logo\":\"Header_logo__2wTjx\",\"logo__text\":\"Header_logo__text__1busa\",\"wrapper_auth\":\"Header_wrapper_auth__3vH4h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Posts_wrapper__36xHA\",\"post\":\"Posts_post__3rJVf\",\"avatar\":\"Posts_avatar__3v00Z\",\"text\":\"Posts_text__14GVy\",\"wrapperTextPost\":\"Posts_wrapperTextPost__3TJSQ\",\"deletePost\":\"Posts_deletePost__2IiFD\",\"deleteBtn\":\"Posts_deleteBtn__2FHy5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperAddInf\":\"AdditionalInformation_wrapperAddInf__2Pxtu\",\"wrapperContacts\":\"AdditionalInformation_wrapperContacts__3W7rl\",\"wrapperContact\":\"AdditionalInformation_wrapperContact__20NyK\",\"editModeActive\":\"AdditionalInformation_editModeActive__236VF\",\"wrapperMode\":\"AdditionalInformation_wrapperMode__3MffG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Posts_wrapper__1zbhF\",\"post\":\"Posts_post__JPKxn\",\"avatar\":\"Posts_avatar__1jE8h\",\"text\":\"Posts_text__9cxFw\",\"wrapperTextPost\":\"Posts_wrapperTextPost__2oMoB\",\"deletePost\":\"Posts_deletePost__3OZIw\",\"deleteBtn\":\"Posts_deleteBtn__Y0YXu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperContact\":\"AdditionalInformation_wrapperContact__nK9nr\",\"wrapperAddInf\":\"AdditionalInformation_wrapperAddInf__eoDdX\",\"wrapperContacts\":\"AdditionalInformation_wrapperContacts__2Ai7B\",\"editModeActive\":\"AdditionalInformation_editModeActive__38PTd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"SettingComponent_wrapper__2kqnP\",\"wrapperFields\":\"SettingComponent_wrapperFields__3kkOg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper_dev\":\"Messages_wrapper_dev__2wFTF\",\"dev\":\"Messages_dev__2J0xi\",\"wrapper\":\"Messages_wrapper__2ekq6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Settings_wrapper__29D5y\",\"wrapperFields\":\"Settings_wrapperFields__3OhkQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper_app\":\"Mobile_wrapper_app__1fJMq\",\"header\":\"Mobile_header__25GaK\",\"content\":\"Mobile_content__QxTsA\"};"],"sourceRoot":""}